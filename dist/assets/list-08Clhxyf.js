import{bH as L,c as B,a as H,aF as A,r as s,aH as V,p as c,j as e,dW as S,i as u,C as _,bX as U,t as x,R as z,m as W,S as q,aN as k,d7 as K,H as Q}from"./index-ZfuUZpXM.js";import{u as X,R as J,h as Y,i as Z,j as $,k as ee,l as te,m as se}from"./product-shop-details-view-iXN-q51s.js";import"./_baseToString-7riyoZo8.js";import{G as f,D as oe,a as le,b as re,c as ie,d as ae,e as ne}from"./DataGrid-inpArJKc.js";import"./LoadingButton-6a62LWbt.js";import"./CircularProgress-Gku5N6zV.js";import"./color-preview-XpJ2s8jI.js";import"./Fab-gV6SSuBC.js";import"./Pagination-cES-q-Wu.js";import"./Rating-ojBN3-dd.js";import"./product-details-carousel-yALWEHRK.js";import"./carousel-arrow-index-eBnktrVK.js";import"./sumBy-932vbLkk.js";import"./_baseIteratee-2MqGvGYq.js";import"./_baseSum-gu02AyRp.js";import"./Skeleton-hVBKTp5z.js";import"./incrementer-button-L9RSPE6J.js";import"./markdown-RuwWBZQz.js";import"./ListItemIcon-k_1VnBg-.js";import"./ClickAwayListener-2LUnzexU.js";const y=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],C={publish:[],stock:[]},de={category:!1},ce=["category","actions"];function ue(){const{enqueueSnackbar:o}=L(),i=B(),l=H(),h=A(),{products:r,productsLoading:P}=X(),[a,b]=s.useState([]),[m,g]=s.useState(C),[n,D]=s.useState([]),[F,O]=s.useState(de);s.useEffect(()=>{r.length&&b(r)},[r]);const j=he({inputData:a,filters:m}),T=!V(C,m),w=s.useCallback((t,d)=>{g(p=>({...p,[t]:d}))},[]),I=s.useCallback(()=>{g(C)},[]),N=s.useCallback(t=>{const d=a.filter(p=>p.id!==t);o("Delete success!"),b(d)},[o,a]),G=s.useCallback(()=>{const t=a.filter(d=>!n.includes(d.id));o("Delete success!"),b(t)},[o,n,a]),v=s.useCallback(t=>{l.push(c.dashboard.product.edit(t))},[l]),E=s.useCallback(t=>{l.push(c.dashboard.product.details(t))},[l]),R=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:t=>e.jsx(J,{params:t})},{field:"createdAt",headerName:"Create at",width:160,renderCell:t=>e.jsx(Y,{params:t})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:S,renderCell:t=>e.jsx(Z,{params:t})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:t=>e.jsx($,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:y,renderCell:t=>e.jsx(ee,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(f,{showInMenu:!0,icon:e.jsx(u,{icon:"solar:eye-bold"}),label:"View",onClick:()=>E(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(u,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>v(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{N(t.row.id)},sx:{color:"error.main"}})]}],M=()=>R.filter(t=>!ce.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(_,{maxWidth:h.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(U,{heading:"Orders",links:[{name:"Dashboard",href:c.dashboard.root},{name:"Branch",href:c.dashboard.product.root},{name:"Orders"}],action:e.jsx(x,{component:z,href:c.dashboard.product.new,variant:"contained",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(W,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(oe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:j,columns:R,loading:P,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{D(t)},columnVisibilityModel:F,onColumnVisibilityModelChange:t=>O(t),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(le,{children:[e.jsx(te,{filters:m,onFilters:w,stockOptions:S,publishOptions:y}),e.jsx(re,{}),e.jsxs(q,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!n.length&&e.jsxs(x,{size:"small",color:"error",startIcon:e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),onClick:i.onTrue,children:["Delete (",n.length,")"]}),e.jsx(ie,{}),e.jsx(ae,{}),e.jsx(ne,{})]})]}),T&&e.jsx(se,{filters:m,onFilters:w,onResetFilters:I,results:j.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(k,{title:"No Data"}),noResultsOverlay:()=>e.jsx(k,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:M}}})})]}),e.jsx(K,{open:i.value,onClose:i.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",n.length," "]})," items?"]}),action:e.jsx(x,{variant:"contained",color:"error",onClick:()=>{G(),i.onFalse()},children:"Delete"})})]})}function he({inputData:o,filters:i}){const{stock:l,publish:h}=i;return l.length&&(o=o.filter(r=>l.includes(r.inventoryType))),h.length&&(o=o.filter(r=>h.includes(r.publish))),o}function Ge(){return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(ue,{})]})}export{Ge as default};
