import{a as $,r as l,A as c,d as E,e as i,l as j,f as z,o as G,p as Y,j as e,B as f,T as p,F as I,g as a,D as d,x as U,y as h,z as x,t as H}from"./index-4yL3xM3x.js";import{G as s}from"./Grid-9_-GiE3l.js";const k=({vendor_category:n})=>{const _=$(),[b,g]=l.useState([]),[w,S]=l.useState([]),[q,P]=l.useState([]),[y,O]=l.useState(""),m=b.find(t=>(t==null?void 0:t.state_name)===y),C=(t,r)=>{O(r),u.setValue("state",r)},N=["Partnership","Property","LLP","Public Limited","Other"],B=["Retail outlet","Mobile van"];l.useEffect(()=>{M()},[]),l.useEffect(()=>{m&&m.state_id&&(D(m.state_id),R(m.state_id))},[m]);function M(){c.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state").then(t=>{var r;g((r=t==null?void 0:t.data)==null?void 0:r.data)})}function D(t){c.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${t}/branch`).then(r=>{var o;S((o=r==null?void 0:r.data)==null?void 0:o.data)})}function R(t){c.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${t}/district`).then(r=>{var o;P((o=r==null?void 0:r.data)==null?void 0:o.data)})}const F=["Dry","Wet","Both"],T=E().shape({address:i().required("Society is required"),contact_person:i().required("Contact is required"),confirm_password:i().oneOf([j("password"),null],"Passwords must match").required("Confirm password is required"),password:i().oneOf([j("password"),null],"Passwords must match").required("Confirm password is required"),gst_number:i().required("GST Number is required"),milling_type:i().required("Milling Type is required"),name:i().required("Name is required"),email:i().required("Email is required"),state:i().required("State is required"),branch:i().required("Branch is required"),pan_number:i().required("Pan Number is required"),pincode:i().required("Pincode is required"),phone_number:i().max(10).required("Phone Number is required")}),L={address:"",confirm_password:"",contact_person:"",district:"",gst_number:"",milling_type:"",name:"",email:"",pan_number:"",phone_number:"",pincode:"",password:"",state:"",branch:""},u=z({resolver:G(T),defaultValues:L}),{reset:V,control:J,register:K,handleSubmit:A,formState:{isSubmitting:Q}}=u,W=A(async t=>{let r;n==="Distributor"?r={address:t.address,password:t.password,confirm_password:t.confirm_password,contact_person:t.contact_person,district:t.district,email:t.email,gst_number:t.gst_number,name:t.name,pan_number:t.pan_number,phone_number:t.phone_number,pincode:t.pincode,state:t.state,branch:t.branch,vendor_category:n,mode:"test"}:r={...t,vendor_category:n,mode:"test"},c.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/channel_sales_partner",r).then(o=>{_.push(Y.auth.jwt.login)}).catch(o=>console.log(o))});return e.jsxs(f,{p:5,className:"registerForm",sx:{backgroundColor:"white",borderRadius:"10px"},children:[e.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",children:"Basic Information"}),e.jsxs(I,{onSubmit:W,methods:u,children:[e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"name",label:n==="Distributor"?"Distributor Name":n==="Miller"?"Milling Unit Name":"Society Name"})}),n==="Miller"&&e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{name:"milling_type",type:"milling_type",label:"Milling Type",placeholder:"Choose Milling Type",fullWidth:!0,options:F.map(t=>t),getOptionLabel:t=>t})}),n!=="Society"&&e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"procurement_area",label:"Procurement area"})}),n!=="Society"&&e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"type_of_firm",label:"Type of Firm",placeholder:"Choose Your firm",fullWidth:!0,options:N.map(t=>t),getOptionLabel:t=>t})}),n==="Distributor"&&e.jsxs(e.Fragment,{children:[e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"area_of_Opration",label:"Area of Opration"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"capacity",label:"Capacity /day (MT)"})}),e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"mode_of_sale",label:"Mode of Sale",placeholder:"Choose mode of sale",fullWidth:!0,options:B.map(t=>t),getOptionLabel:t=>t})})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"contact_person",label:"Contact Person"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"phone_number",label:"Phone Number"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"email",label:"Email"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"pan_number",label:"PAN Number"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(a,{name:"gst_number",label:"GST Number"})}),n==="Society"&&e.jsx(s,{item:!0,xs:12,children:e.jsxs(U,{row:!0,"aria-label":"vendor",name:"vendor",children:[e.jsx(h,{value:"own_distribution_own_mill",control:e.jsx(x,{}),label:"Own Mill and Distribution"}),e.jsx(h,{value:"own_distribution_rent_mill",control:e.jsx(x,{}),label:"Own Distribution and Rent Mill"}),e.jsx(h,{value:"cooperative_rent_mill",control:e.jsx(x,{}),label:"Co-operative (Rent Mill)"})]})})]}),e.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:` ${n==="Distributor"?"Address of Proposed Distributor Premises":n==="Miller"?"Address of Proposed Milling Unit Premises":"Address Information"}`}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(a,{name:"address",label:"Address"})}),e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"state",label:"State",placeholder:"Choose Your State",fullWidth:!0,options:b.map(t=>t==null?void 0:t.state_name),getOptionLabel:t=>t,onChange:C})}),e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"branch",label:"Branch",placeholder:"Choose Your Branch",fullWidth:!0,options:w.map(t=>t==null?void 0:t.branch_name),getOptionLabel:t=>t,disabled:!m})}),e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"district",label:"District",placeholder:"Choose Your District",fullWidth:!0,options:q.map(t=>t==null?void 0:t.district),getOptionLabel:t=>t,disabled:!m})}),e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(a,{name:"pincode",label:"Pin Code"})})]}),e.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:"Password"}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(a,{type:"password",name:"password",label:"Password"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(a,{type:"password",name:"confirm_password",label:"Confirm Password"})})]}),e.jsx(f,{display:"flex",justifyContent:"flex-end",mt:3,children:e.jsx(H,{type:"submit",variant:"contained",color:"primary",children:"SUBMIT"})})]})]})},v=k;export{v as R};
