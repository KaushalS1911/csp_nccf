import{a8 as s,u as y,aF as v,r as n,K as m,j as e,C as T,ah as c,cQ as x,a2 as E,cR as w,cS as O,cT as D,cU as A,H as B,cV as F}from"./index-3yGs_RMt.js";import{U as P}from"./user-list-view-HSacnqPk.js";s.string,s.array,s.array,s.string;s.object;function L({vendorCode:d}){const{vendor:u}=y(),l=v(),[o,p]=n.useState({}),[g,h]=n.useState([]),[f,j]=n.useState(0);n.useEffect(()=>{u.csp_code&&(S(),C())},[f]);function b(){j(a=>a+1)}function C(){m.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${u.csp_code}/orders_stats`).then(a=>{var i;p((i=a.data)==null?void 0:i.data[0])})}function S(){m.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${u.csp_code}/orders`).then(a=>{var i;h((i=a.data)==null?void 0:i.data)})}return e.jsx(T,{maxWidth:l.themeStretch?!1:"xl",children:e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{xs:12,md:3,children:e.jsx(x,{title:"Total Orders",total:(o==null?void 0:o.total_orders)||"0"})}),e.jsx(c,{xs:12,md:3,children:e.jsx(x,{title:"Orders Pending",total:(o==null?void 0:o.placed_orders)||"0"})}),e.jsx(c,{xs:12,md:3,children:e.jsx(x,{title:"Orders Accepted",total:(o==null?void 0:o.accepted_orders)||"0"})}),e.jsx(c,{xs:12,md:3,children:e.jsx(x,{title:"Orders Declined",total:(o==null?void 0:o.declined_orders)||"0"})}),e.jsx(c,{xs:12,lg:12,children:e.jsx(P,{tableData:g,fetchAllOrdersDemo:b})})]})})}s.object,s.number,s.object,s.string,s.number;s.object,s.string,s.string;s.bool,s.string,s.func,s.func,s.string,s.object,s.string;function V({vendorCode:d}){y();const u=v();E(),n.useState([]);const[l,o]=n.useState([]),[p,g]=n.useState([]),[h,f]=n.useState([]);n.useEffect(()=>{j(),b()},[]),n.useEffect(()=>{const t=l==null?void 0:l.map((r,z)=>(r==null?void 0:r.category)!=="Distributor"?{label:w(r==null?void 0:r.category),value:r==null?void 0:r.count}:null).filter(r=>r!==null);f(t)},[l]);function j(){m.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/ho/csp/category-stats").then(t=>{o(t.data.data)})}function b(){m.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/ho/csp/orders/stats").then(t=>{g(t.data.data)})}const C=["placed","accepted","declined"],S=["primary","info","warning","error"],a=["secondary","brown1","brown","brown"],i=p.filter(t=>C.includes(t.nccf_order_status)),_=[];return i.map(t=>_.push({label:O(t==null?void 0:t.nccf_order_status),value:(t==null?void 0:t.order_count)||0})),e.jsx(T,{maxWidth:u.themeStretch?!1:"xl",children:e.jsxs(c,{container:!0,spacing:3,children:[l&&l.map((t,r)=>e.jsx(c,{xs:12,md:3,children:e.jsx(D,{title:w(t==null?void 0:t.category),total:(t==null?void 0:t.count)||0,color:S[r]})})),p&&i.map((t,r)=>e.jsx(c,{xs:12,md:4,children:e.jsx(D,{title:O(t==null?void 0:t.nccf_order_status),total:(t==null?void 0:t.order_count)||0,color:a[r],chart:{}})})),e.jsx(c,{xs:12,md:6,lg:4,children:h!==[]&&e.jsx(A,{title:"CSP distribution",chart:{colors:["#5DD095","#0D7566","#004B50","#C8FAD6"],series:h}})}),e.jsx(c,{xs:12,md:6,lg:4,children:h!==[]&&e.jsx(A,{title:"Total Orders",chart:{colors:["#6F4E37","#A67B5B","#FED8B1","#ECB176"],series:_}})})]})})}function U(){const{vendor:d}=y(),u=localStorage.getItem("login_type");return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx("title",{children:" NCCF CSP Portal "})}),u==="other-login"?e.jsx(L,{}):(d==null?void 0:d.category)==="branch"?e.jsx(F,{}):e.jsx(V,{})]})}export{U as default};
