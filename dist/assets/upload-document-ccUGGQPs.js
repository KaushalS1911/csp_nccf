import{y as d,cg as N,r as x,j as e,cb as M,B as P,d4 as Z,ae as w,ag as J,f as T,c as q,ca as E,X as Y,bq as I,d as D,e as b,cc as B,S as y,I as U,k as ee,a5 as oe,a as se,d5 as te,a7 as ae,p as S,C as le,R as ne,w as ie,a1 as re,d6 as de,cp as ce}from"./index-6b9YNlCU.js";import{C as L}from"./confirm-dialog-_5sg9RTN.js";import{C as pe}from"./custom-breadcrumbs-KB-dcLue.js";import{u as me,g as he,e as xe}from"./use-table-WJVbMyK_.js";import{T as ue,b as be,a as je,c as ge,d as fe,e as Ce}from"./table-pagination-custom-ahqG7Hxq.js";import{c as we,a as g}from"./index.esm-GNBVmHKp.js";import{u as ye,F as Re}from"./form-provider-nQFnmWy0.js";import{o as Pe}from"./yup-lQjaurxX.js";import{e as Te,R as f,d as ve}from"./rhf-autocomplete-wTJsutQh.js";import{D as Se}from"./DialogTitle-QI9cXB5a.js";import{D as ke}from"./DialogContent-9q1V7_Jw.js";import{A as De}from"./Alert-NPZx09Xn.js";import{D as _e}from"./DialogActions-V1zGrLgw.js";import{L as Ae}from"./LoadingButton-Dtx5aHAw.js";import{T as R}from"./TablePagination-BBaJmBlc.js";import{C as Fe}from"./Checkbox-J8dTnZci.js";import{T as qe}from"./TextField-cpNo6eDL.js";import{C as A}from"./Chip-JSfjLPw_.js";import{C as Ne}from"./Card-1rxO-ujK.js";import{T as Ee,a as Ie}from"./Tabs-moKXlJ2n.js";import{T as Be,a as Le,b as Ge}from"./TableContainer-5PPQiGHx.js";import"./index-q81m-9gd.js";import"./empty-content-GLrj9nT1.js";import"./FormControlLabel-lzWdZQp4.js";import"./Switch-SI5HYcCt.js";import"./SwitchBase-tbu66qq5.js";import"./upload-avatar-JBJ31_iw.js";import"./format-number-cH6inD4p.js";import"./fade-DT3NHYqa.js";import"./file-thumbnail-so231KyZ.js";import"./index-cwqZrh9Q.js";import"./image-40GdGwYz.js";import"./FormControl-cYbgIL6F.js";import"./isMuiElement-LesLFYja.js";import"./InputLabel-PPNdZKj8.js";import"./FormLabel-Lx7iV62t.js";import"./Select-lumNJNbF.js";import"./Menu-F1nVpr7S.js";import"./FormGroup-665s5xv5.js";import"./editor-q7-HtS1N.js";import"./highlight-gnjvDdSa.js";import"./Slider-Iqglw49x.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-SsP2991e.js";import"./Autocomplete-B_8PEJCR.js";import"./Close-sDOtMgtS.js";import"./dialogTitleClasses-1OQJ_SK9.js";import"./CircularProgress-A1qORUTS.js";import"./KeyboardArrowRight-KR5NzdLJ.js";import"./FirstPage-uNMM70pn.js";function G({currentUser:o,open:s,onClose:h}){const{enqueueSnackbar:i}=N(),c=we().shape({name:g().required("Name is required"),email:g().required("Email is required").email("Email must be a valid email address"),phoneNumber:g().required("Phone number is required"),address:g().required("Address is required"),country:g().required("Country is required"),company:g().required("Company is required"),state:g().required("State is required"),city:g().required("City is required"),role:g().required("Role is required")}),n=x.useMemo(()=>({name:(o==null?void 0:o.name)||"",email:(o==null?void 0:o.email)||"",phoneNumber:(o==null?void 0:o.phoneNumber)||"",address:(o==null?void 0:o.address)||"",country:(o==null?void 0:o.country)||"",state:(o==null?void 0:o.state)||"",city:(o==null?void 0:o.city)||"",zipCode:(o==null?void 0:o.zipCode)||"",status:o==null?void 0:o.status,company:(o==null?void 0:o.company)||"",role:(o==null?void 0:o.role)||""}),[o]),u=ye({resolver:Pe(c),defaultValues:n}),{reset:a,handleSubmit:r,formState:{isSubmitting:l}}=u,p=r(async j=>{try{await new Promise(C=>setTimeout(C,500)),a(),h(),i("Update success!"),console.info("DATA",j)}catch(C){console.error(C)}});return e.jsx(M,{fullWidth:!0,maxWidth:!1,open:s,onClose:h,PaperProps:{sx:{maxWidth:720}},children:e.jsxs(Re,{methods:u,onSubmit:p,children:[e.jsx(Se,{children:"Quick Update"}),e.jsxs(ke,{children:[e.jsx(De,{variant:"outlined",severity:"info",sx:{mb:3},children:"Account is waiting for confirmation"}),e.jsxs(P,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(Te,{name:"status",label:"Status",children:Z.map(j=>e.jsx(w,{value:j.value,children:j.label},j.value))}),e.jsx(P,{sx:{display:{xs:"none",sm:"block"}}}),e.jsx(f,{name:"name",label:"Full Name"}),e.jsx(f,{name:"email",label:"Email Address"}),e.jsx(f,{name:"phoneNumber",label:"Phone Number"}),e.jsx(ve,{name:"country",type:"country",label:"Country",placeholder:"Choose a country",fullWidth:!0,options:J.map(j=>j.label),getOptionLabel:j=>j}),e.jsx(f,{name:"state",label:"State/Region"}),e.jsx(f,{name:"city",label:"City"}),e.jsx(f,{name:"address",label:"Address"}),e.jsx(f,{name:"zipCode",label:"Zip/Code"}),e.jsx(f,{name:"company",label:"Company"}),e.jsx(f,{name:"role",label:"Role"})]})]}),e.jsxs(_e,{children:[e.jsx(T,{variant:"outlined",onClick:h,children:"Cancel"}),e.jsx(Ae,{type:"submit",variant:"contained",loading:l,children:"Update"})]})]})})}G.propTypes={open:d.bool,onClose:d.func,currentUser:d.object};function W({row:o,selected:s,onEditRow:h,onSelectRow:i,onDeleteRow:c,index:n}){const{doc_type:u,object_url:a}=o,r=q(),l=q(),p=E();return e.jsxs(e.Fragment,{children:[e.jsxs(ue,{hover:!0,selected:s,children:[e.jsx(R,{padding:"checkbox",sx:{width:"100px"},children:e.jsx(Fe,{checked:s,onClick:i})}),e.jsx(R,{sx:{whiteSpace:"nowrap"},children:n+1}),e.jsx(R,{sx:{whiteSpace:"nowrap"},children:u}),e.jsx(R,{children:e.jsx(Y,{alt:a,src:a,sx:{mr:2,height:"100px",width:"100px"},variant:"rounded"})}),e.jsxs(R,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(I,{title:"Quick Edit",placement:"top",arrow:!0,children:e.jsx(D,{color:l.value?"inherit":"default",onClick:l.onTrue,children:e.jsx(b,{icon:"solar:pen-bold"})})}),e.jsx(D,{color:p.open?"inherit":"default",onClick:p.onOpen,children:e.jsx(b,{icon:"eva:more-vertical-fill"})})]})]}),e.jsx(G,{currentUser:o,open:l.value,onClose:l.onFalse}),e.jsxs(B,{open:p.open,onClose:p.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(w,{onClick:()=>{r.onTrue(),p.onClose()},sx:{color:"error.main"},children:[e.jsx(b,{icon:"solar:trash-bin-trash-bold"}),"Delete"]}),e.jsxs(w,{onClick:()=>{h(),p.onClose()},children:[e.jsx(b,{icon:"solar:pen-bold"}),"Edit"]})]}),e.jsx(L,{open:r.value,onClose:r.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(T,{variant:"contained",color:"error",onClick:c,children:"Delete"})})]})}W.propTypes={onDeleteRow:d.func,onEditRow:d.func,onSelectRow:d.func,row:d.object,selected:d.bool};function V({filters:o,onFilters:s,roleOptions:h}){const i=E(),c=x.useCallback(n=>{s("name",n.target.value)},[s]);return x.useCallback(n=>{s("role",typeof n.target.value=="string"?n.target.value.split(","):n.target.value)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(y,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:e.jsxs(y,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[e.jsx(qe,{fullWidth:!0,value:o.name,onChange:c,placeholder:"Search...",InputProps:{startAdornment:e.jsx(U,{position:"start",children:e.jsx(b,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),e.jsx(D,{onClick:i.onOpen,children:e.jsx(b,{icon:"eva:more-vertical-fill"})})]})}),e.jsxs(B,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(w,{onClick:()=>{i.onClose()},children:[e.jsx(b,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(w,{onClick:()=>{i.onClose()},children:[e.jsx(b,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(w,{onClick:()=>{i.onClose()},children:[e.jsx(b,{icon:"solar:export-bold"}),"Export"]})]})]})}V.propTypes={filters:d.object,onFilters:d.func,roleOptions:d.array};function O({filters:o,onFilters:s,onResetFilters:h,results:i,...c}){const n=x.useCallback(()=>{s("name","")},[s]),u=x.useCallback(()=>{s("status","all")},[s]),a=x.useCallback(r=>{const l=o.role.filter(p=>p!==r);s("role",l)},[o.role,s]);return e.jsxs(y,{spacing:1.5,...c,children:[e.jsxs(P,{sx:{typography:"body2"},children:[e.jsx("strong",{children:i}),e.jsx(P,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(y,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[o.status!=="all"&&e.jsx(k,{label:"Status:",children:e.jsx(A,{size:"small",label:o.status,onDelete:u})}),!!o.role.length&&e.jsx(k,{label:"Role:",children:o.role.map(r=>e.jsx(A,{label:r,size:"small",onDelete:()=>a(r)},r))}),!!o.name&&e.jsx(k,{label:"Keyword:",children:e.jsx(A,{label:o.name,size:"small",onDelete:n})}),e.jsx(T,{color:"error",onClick:h,startIcon:e.jsx(b,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}O.propTypes={filters:d.object,onFilters:d.func,onResetFilters:d.func,results:d.number};function k({label:o,children:s,sx:h,...i}){return e.jsxs(y,{component:ee,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...h},...i,children:[e.jsx(P,{component:"span",sx:{typography:"subtitle2"},children:o}),e.jsx(y,{spacing:1,direction:"row",flexWrap:"wrap",children:s})]})}k.propTypes={children:d.node,label:d.string,sx:d.object};const We=[{id:"srNo",label:"Sr No"},{id:"doc_type",label:"Document Type",width:380},{id:"object_url",label:"Document Image",width:220},{id:"",width:88}],F={name:"",role:[],status:"all"},Ve=[{doc_type:"Certificates",object_url:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/5e/15/80/caption.jpg?w=300&h=300&s=1"},{doc_type:"Pan Number",object_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUoKV0B7GXf5IHL2fem9xmVrVdGo9pFBTwWA&s"},{doc_type:"Aadhar",object_url:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/5e/15/80/caption.jpg?w=300&h=300&s=1"},{doc_type:"Gst Number",object_url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUoKV0B7GXf5IHL2fem9xmVrVdGo9pFBTwWA&s"}];function Oe(){const{enqueueSnackbar:o}=N(),s=me(),h=oe(),i=se(),c=q(),[n,u]=x.useState(te),[a,r]=x.useState(F),l=ze({inputData:Ve,comparator:he(s.order,s.orderBy),filters:a}),p=l.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage),j=s.dense?56:76,C=!ae(F,a),z=!l.length&&C||!l.length,v=x.useCallback((t,m)=>{s.onResetPage(),r(_=>({..._,[t]:m}))},[s]),H=x.useCallback(()=>{r(F)},[]),Q=x.useCallback(t=>{const m=n.filter(_=>_.id!==t);o("Delete success!"),u(m),s.onUpdatePageDeleteRow(p.length)},[p.length,o,s,n]),K=x.useCallback(()=>{const t=n.filter(m=>!s.selected.includes(m.id));o("Delete success!"),u(t),s.onUpdatePageDeleteRows({totalRowsInPage:p.length,totalRowsFiltered:l.length})},[l.length,p.length,o,s,n]),X=x.useCallback(t=>{i.push(S.dashboard.user.edit(t))},[i]),$=x.useCallback((t,m)=>{v("status",m)},[v]);return e.jsxs(e.Fragment,{children:[e.jsxs(le,{maxWidth:h.themeStretch?!1:"lg",children:[e.jsx(pe,{heading:"List",links:[{name:"Dashboard",href:S.dashboard.root},{name:"Document",href:S.dashboard.document},{name:"List"}],action:e.jsx(T,{component:ne,href:S.dashboard.user.new,variant:"contained",startIcon:e.jsx(b,{icon:"mingcute:add-line"}),children:"New User"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(Ne,{children:[e.jsx(Ee,{value:a.doc_type,onChange:$,sx:{px:2.5,boxShadow:t=>`inset 0 -2px 0 0 ${ie(t.palette.grey[500],.08)}`},children:l.map(t=>e.jsx(Ie,{iconPosition:"end",value:t.doc_type,label:t.doc_type,icon:e.jsx(re,{variant:(t.doc_type===""||t.doc_type===a.doc_type)&&"filled"||"soft",color:t.doc_type==="Aadhar"&&"success"||t.doc_type==="Certificates"&&"warning"||t.doc_type==="Gst Number"&&"error"||t.doc_type==="Pan Number"&&"success"||"default",children:["Aadhar","Certificates","Gst Number","Pan Number"].includes(t.doc_type)?n.filter(m=>m.doc_type===t.doc_type).length:n.length})},t.doc_type))}),e.jsx(V,{filters:a,onFilters:v,roleOptions:de}),C&&e.jsx(O,{filters:a,onFilters:v,onResetFilters:H,results:l.length,sx:{p:2.5,pt:0}}),e.jsxs(Be,{sx:{position:"relative",overflow:"unset"},children:[e.jsx(be,{dense:s.dense,numSelected:s.selected.length,rowCount:l.length,onSelectAllRows:t=>s.onSelectAllRows(t,l.map(m=>m.id)),action:e.jsx(I,{title:"Delete",children:e.jsx(D,{color:"primary",onClick:c.onTrue,children:e.jsx(b,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(ce,{children:e.jsxs(Le,{size:s.dense?"small":"medium",sx:{minWidth:960},children:[e.jsx(je,{order:s.order,orderBy:s.orderBy,headLabel:We,rowCount:l.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:t=>s.onSelectAllRows(t,l.map(m=>m.id))}),e.jsxs(Ge,{children:[l.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map((t,m)=>e.jsx(W,{index:m,row:t,selected:s.selected.includes(t.id),onSelectRow:()=>s.onSelectRow(t.id),onDeleteRow:()=>Q(t.id),onEditRow:()=>X(t.id)},t.id)),e.jsx(ge,{height:j,emptyRows:xe(s.page,s.rowsPerPage,l.length)}),e.jsx(fe,{notFound:z})]})]})})]}),e.jsx(Ce,{count:l.length,page:s.page,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onRowsPerPageChange:s.onChangeRowsPerPage,dense:s.dense,onChangeDense:s.onChangeDense})]})]}),e.jsx(L,{open:c.value,onClose:c.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:e.jsx(T,{variant:"contained",color:"error",onClick:()=>{K(),c.onFalse()},children:"Delete"})})]})}function ze({inputData:o,comparator:s,filters:h}){const{name:i,status:c,role:n}=h,u=o.map((a,r)=>[a,r]);return u.sort((a,r)=>{const l=s(a[0],r[0]);return l!==0?l:a[1]-r[1]}),o=u.map(a=>a[0]),i&&(o=o.filter(a=>a.doc_type.toLowerCase().indexOf(i.toLowerCase())!==-1)),c!=="all"&&(o=o.filter(a=>a.status===c)),n.length&&(o=o.filter(a=>n.includes(a.role))),o}const Vo=()=>e.jsx(e.Fragment,{children:e.jsx(Oe,{})});export{Vo as default};
