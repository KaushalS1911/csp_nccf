import{u as f,bD as I,bE as E,r as u,aE as L,f as P,A as T,d6 as b,j as e,H as w,C as z,T as x,B as a,F,Q as G,am as r,m as g,g as i,D as m,S as R,t as V}from"./index-4yL3xM3x.js";import{L as A}from"./LoadingButton-ARrPaHRQ.js";import"./CircularProgress-gwCWj6_h.js";function O(){const{vendor:p}=f(),l=`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080//nccf/csp_detail/${p.phone_number}`,{data:s,isLoading:o,error:n,isValidating:d}=I(l,E);return u.useMemo(()=>({profile:(s==null?void 0:s.data[0])||{},profileLoading:o,profileError:n,profileValidating:d,profileEmpty:!o&&!(s!=null&&s.data.length)}),[s==null?void 0:s.data,n,o,d])}function k(){const p=L(),{vendor:l}=f(),[s,o]=u.useState(!0),{profile:n}=O(),d={address:"",contact_person:"",district:"",gst_number:"",milling_type:"",name:"",pan_number:"",phone_number:l.phone_number,pincode:"",email:"",state:"",village:""},c=P({defaultValues:d}),{reset:h,handleSubmit:j,formState:{isSubmitting:_}}=c;u.useEffect(()=>{n&&h({address:n.address||"",contact_person:n.contact_person||"",district:n.district||"",gst_number:n.gst_number||"",milling_type:n.milling_type||"",name:n.name||"",pan_number:n.pan_number||"",phone_number:l.phone_number,pincode:n.pincode||"",email:n.email||"",state:n.state||"",village:n.village||""})},[n,h,l]);const S=["Dry","Wet","Both"],y=["Gujarat","Delhi","Punjab"],C=["Amreli","Surendranagar","Dhrol"],v=["Surat","Bharuch","Rohini"],B=j(async t=>{const W={...t,csp_code:l.csp_code,updated_on:new Date().toISOString(),mode:"test"};T.put("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/update_info",W).then(D=>{b("Update successfully")}).catch(D=>{b("Something went wrong",{variant:"error"})})});return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("title",{children:" Dashboard | Basic Info"})}),e.jsxs(z,{maxWidth:p.themeStretch?!1:"xl",children:[e.jsx(x,{variant:"h4",children:" Basic Information"}),e.jsx(a,{sx:{mt:5,width:1,height:320,borderRadius:2},children:e.jsxs(F,{methods:c,onSubmit:B,children:[e.jsx(G,{}),e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,md:4,children:e.jsx(a,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(a,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Basic Information",e.jsx(x,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),e.jsx(r,{md:8,xs:12,item:!0,children:e.jsx(g,{sx:{p:3},children:e.jsxs(a,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[e.jsx(i,{name:"name",label:"Full Name",disabled:s}),e.jsx(m,{name:"milling_type",type:"milling_type",label:"Milling Type",placeholder:"Choose Milling Type",fullWidth:!0,options:S.map(t=>t),getOptionLabel:t=>t,disabled:s}),e.jsx(i,{name:"email",label:"Email",disabled:s}),e.jsx(i,{name:"contact_person",label:"Contact Person",disabled:s}),e.jsx(i,{name:"phone_number",label:"Phone Number",disabled:s}),e.jsx(i,{name:"pan_number",label:"Pan Number",disabled:s}),e.jsx(i,{name:"gst_number",label:"GST Number",disabled:s})]})})})]}),e.jsxs(r,{container:!0,sx:{mt:"80px"},children:[e.jsx(r,{item:!0,md:4,children:e.jsx(a,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:e.jsxs(a,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Address of Proposed Rice Mill Premises",e.jsx(x,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),e.jsx(r,{md:8,xs:12,item:!0,children:e.jsx(g,{sx:{p:3},children:e.jsxs(a,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:[e.jsx(a,{gridColumn:{xs:"span 1",sm:"span 2",md:"span 4"},children:e.jsx(i,{name:"address",label:"Address",fullWidth:!0,disabled:s})}),e.jsx(a,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(m,{name:"district",type:"district",label:"District",placeholder:"Choose District",fullWidth:!0,options:C.map(t=>t),getOptionLabel:t=>t,disabled:s})}),e.jsx(a,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(m,{name:"state",type:"state",label:"State",placeholder:"Choose Your State",fullWidth:!0,options:y.map(t=>t),getOptionLabel:t=>t,disabled:s})}),e.jsx(a,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(i,{name:"pincode",label:"Pin Code",fullWidth:!0,disabled:s})}),e.jsx(a,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:e.jsx(m,{disabled:s,name:"village",type:"village",label:"Village",placeholder:"Choose Your Village",fullWidth:!0,options:v.map(t=>t),getOptionLabel:t=>t})})]})})})]}),e.jsx(R,{display:"flex",alignItems:"flex-end",sx:{mt:3},children:e.jsxs(a,{children:[e.jsx(V,{color:"inherit",variant:"outlined",sx:{mr:"20px"},onClick:()=>o(t=>!t),children:s?"Edit":"Cancel"}),e.jsx(A,{type:"submit",loading:_,variant:"contained",disabled:s,children:"Save"})]})})]})})]})]})}export{k as default};
