import{cg as M,c as A,a as B,a5 as H,r as o,a7 as V,p as c,j as e,dz as S,e as m,C as _,f as b,R as z,S as U,H as q}from"./index-6b9YNlCU.js";import{u as W,R as K,h as Q,i as J,j as X,k as Y,l as Z,m as $}from"./product-shop-details-view-wwbFimKV.js";import"./_baseToString-AAm-kJJE.js";import"./index-NkJdiOGf.js";import{E as k}from"./empty-content-GLrj9nT1.js";import{C as ee}from"./confirm-dialog-_5sg9RTN.js";import{C as te}from"./custom-breadcrumbs-KB-dcLue.js";import{G as f,D as oe,a as re,b as se,c as ie,d as le,e as ae}from"./DataGrid-1TShyYid.js";import{C as ne}from"./Card-1rxO-ujK.js";import"./index.esm-GNBVmHKp.js";import"./form-provider-nQFnmWy0.js";import"./yup-lQjaurxX.js";import"./rhf-autocomplete-wTJsutQh.js";import"./upload-avatar-JBJ31_iw.js";import"./format-number-cH6inD4p.js";import"./fade-DT3NHYqa.js";import"./file-thumbnail-so231KyZ.js";import"./index-cwqZrh9Q.js";import"./image-40GdGwYz.js";import"./TextField-cpNo6eDL.js";import"./FormControl-cYbgIL6F.js";import"./isMuiElement-LesLFYja.js";import"./InputLabel-PPNdZKj8.js";import"./FormLabel-Lx7iV62t.js";import"./Select-lumNJNbF.js";import"./index-q81m-9gd.js";import"./Menu-F1nVpr7S.js";import"./Checkbox-J8dTnZci.js";import"./SwitchBase-tbu66qq5.js";import"./Chip-JSfjLPw_.js";import"./FormControlLabel-lzWdZQp4.js";import"./FormGroup-665s5xv5.js";import"./Switch-SI5HYcCt.js";import"./editor-q7-HtS1N.js";import"./highlight-gnjvDdSa.js";import"./Slider-Iqglw49x.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-SsP2991e.js";import"./Autocomplete-B_8PEJCR.js";import"./Close-sDOtMgtS.js";import"./Grid2-gzJFCzg3.js";import"./CardHeader-T304ptW8.js";import"./LoadingButton-Dtx5aHAw.js";import"./CircularProgress-A1qORUTS.js";import"./color-preview-iVggBb-Y.js";import"./Fab-kvX9AV1z.js";import"./Pagination-p7sisM_S.js";import"./FirstPage-uNMM70pn.js";import"./Rating-i1QYpkFH.js";import"./format-time-IxpVz2Ed.js";import"./Tabs-moKXlJ2n.js";import"./KeyboardArrowRight-KR5NzdLJ.js";import"./sumBy-DyDWZM9E.js";import"./_baseIteratee-qZoVUYUb.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-QI9cXB5a.js";import"./dialogTitleClasses-1OQJ_SK9.js";import"./DialogContent-9q1V7_Jw.js";import"./DialogActions-V1zGrLgw.js";import"./Skeleton-hnrce5BH.js";import"./incrementer-button-egWTgmKC.js";import"./use-light-box-loBYeJTm.js";import"./carousel-arrow-index-qLueDzYM.js";import"./markdown-7VZ6UL2a.js";import"./ListItemIcon-CI6a9dxe.js";import"./ClickAwayListener-dLJYFG9M.js";import"./TablePagination-BBaJmBlc.js";const y=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],C={publish:[],stock:[]},de={category:!1},ce=["category","actions"];function me(){const{enqueueSnackbar:r}=M(),l=A(),s=B(),p=H(),{products:i,productsLoading:P}=W(),[a,h]=o.useState([]),[u,g]=o.useState(C),[n,D]=o.useState([]),[F,T]=o.useState(de);o.useEffect(()=>{i.length&&h(i)},[i]);const j=pe({inputData:a,filters:u}),O=!V(C,u),w=o.useCallback((t,d)=>{g(x=>({...x,[t]:d}))},[]),I=o.useCallback(()=>{g(C)},[]),G=o.useCallback(t=>{const d=a.filter(x=>x.id!==t);r("Delete success!"),h(d)},[r,a]),N=o.useCallback(()=>{const t=a.filter(d=>!n.includes(d.id));r("Delete success!"),h(t)},[r,n,a]),E=o.useCallback(t=>{s.push(c.dashboard.product.edit(t))},[s]),L=o.useCallback(t=>{s.push(c.dashboard.product.details(t))},[s]),R=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:t=>e.jsx(K,{params:t})},{field:"createdAt",headerName:"Create at",width:160,renderCell:t=>e.jsx(Q,{params:t})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:S,renderCell:t=>e.jsx(J,{params:t})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:t=>e.jsx(X,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:y,renderCell:t=>e.jsx(Y,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:eye-bold"}),label:"View",onClick:()=>L(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>E(t.row.id)}),e.jsx(f,{showInMenu:!0,icon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{G(t.row.id)},sx:{color:"error.main"}})]}],v=()=>R.filter(t=>!ce.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(_,{maxWidth:p.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(te,{heading:"List",links:[{name:"Dashboard",href:c.dashboard.root},{name:"Product",href:c.dashboard.product.root},{name:"List"}],action:e.jsx(b,{component:z,href:c.dashboard.product.new,variant:"contained",startIcon:e.jsx(m,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(ne,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(oe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:j,columns:R,loading:P,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{D(t)},columnVisibilityModel:F,onColumnVisibilityModelChange:t=>T(t),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(Z,{filters:u,onFilters:w,stockOptions:S,publishOptions:y}),e.jsx(se,{}),e.jsxs(U,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!n.length&&e.jsxs(b,{size:"small",color:"error",startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),onClick:l.onTrue,children:["Delete (",n.length,")"]}),e.jsx(ie,{}),e.jsx(le,{}),e.jsx(ae,{})]})]}),O&&e.jsx($,{filters:u,onFilters:w,onResetFilters:I,results:j.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(k,{title:"No Data"}),noResultsOverlay:()=>e.jsx(k,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:v}}})})]}),e.jsx(ee,{open:l.value,onClose:l.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",n.length," "]})," items?"]}),action:e.jsx(b,{variant:"contained",color:"error",onClick:()=>{N(),l.onFalse()},children:"Delete"})})]})}function pe({inputData:r,filters:l}){const{stock:s,publish:p}=l;return s.length&&(r=r.filter(i=>s.includes(i.inventoryType))),p.length&&(r=r.filter(i=>p.includes(i.publish))),r}function Pt(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(me,{})]})}export{Pt as default};
