import{a5 as w,a6 as U,c as A,r as n,a7 as G,j as r,C as L,T as Q,S as O,p as q,a8 as B,a9 as H,aa as v,ab as V,ac as W,H as Y}from"./index-6b9YNlCU.js";import{u as z,a as J,P as K,C as M,b as X,c as Z,d as $,e as D}from"./product-shop-details-view-wwbFimKV.js";import{o as x}from"./orderBy-mBHnx5nq.js";import{u as tt}from"./use-debounce-O_OQUsOR.js";import{E as rt}from"./empty-content-GLrj9nT1.js";import"./index-NkJdiOGf.js";import"./confirm-dialog-_5sg9RTN.js";import"./custom-breadcrumbs-KB-dcLue.js";import"./index.esm-GNBVmHKp.js";import"./form-provider-nQFnmWy0.js";import"./yup-lQjaurxX.js";import"./rhf-autocomplete-wTJsutQh.js";import"./upload-avatar-JBJ31_iw.js";import"./format-number-cH6inD4p.js";import"./fade-DT3NHYqa.js";import"./file-thumbnail-so231KyZ.js";import"./index-cwqZrh9Q.js";import"./image-40GdGwYz.js";import"./TextField-cpNo6eDL.js";import"./FormControl-cYbgIL6F.js";import"./isMuiElement-LesLFYja.js";import"./InputLabel-PPNdZKj8.js";import"./FormLabel-Lx7iV62t.js";import"./Select-lumNJNbF.js";import"./index-q81m-9gd.js";import"./Menu-F1nVpr7S.js";import"./Checkbox-J8dTnZci.js";import"./SwitchBase-tbu66qq5.js";import"./Chip-JSfjLPw_.js";import"./FormControlLabel-lzWdZQp4.js";import"./FormGroup-665s5xv5.js";import"./Switch-SI5HYcCt.js";import"./editor-q7-HtS1N.js";import"./highlight-gnjvDdSa.js";import"./Slider-Iqglw49x.js";import"./visuallyHidden-DVicuktI.js";import"./RadioGroup-SsP2991e.js";import"./Autocomplete-B_8PEJCR.js";import"./Close-sDOtMgtS.js";import"./Grid2-gzJFCzg3.js";import"./Card-1rxO-ujK.js";import"./CardHeader-T304ptW8.js";import"./LoadingButton-Dtx5aHAw.js";import"./CircularProgress-A1qORUTS.js";import"./color-preview-iVggBb-Y.js";import"./Fab-kvX9AV1z.js";import"./Pagination-p7sisM_S.js";import"./FirstPage-uNMM70pn.js";import"./Rating-i1QYpkFH.js";import"./format-time-IxpVz2Ed.js";import"./Tabs-moKXlJ2n.js";import"./KeyboardArrowRight-KR5NzdLJ.js";import"./sumBy-DyDWZM9E.js";import"./_baseIteratee-qZoVUYUb.js";import"./_baseToString-AAm-kJJE.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-QI9cXB5a.js";import"./dialogTitleClasses-1OQJ_SK9.js";import"./DialogContent-9q1V7_Jw.js";import"./DialogActions-V1zGrLgw.js";import"./Skeleton-hnrce5BH.js";import"./incrementer-button-egWTgmKC.js";import"./use-light-box-loBYeJTm.js";import"./carousel-arrow-index-qLueDzYM.js";import"./markdown-7VZ6UL2a.js";import"./_baseEach-ynQWYsyH.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function et(){const t=w(),g=U(),o=A(),[c,d]=n.useState("featured"),[u,h]=n.useState(""),m=tt(u),[s,p]=n.useState(R),{products:e,productsLoading:l,productsEmpty:a}=z(),{searchResults:j,searchLoading:F}=J(m),C=n.useCallback((i,N)=>{p(k=>({...k,[i]:N}))},[]),P=n.useCallback(()=>{p(R)},[]),S=ot({inputData:e,filters:s,sortBy:c}),f=!G(R,s),y=!S.length&&f,T=n.useCallback(i=>{d(i)},[]),b=n.useCallback(i=>{h(i)},[]),I=r.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[r.jsx(Z,{query:m,results:j,onSearch:b,loading:F,hrefItem:i=>q.product.details(i)}),r.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[r.jsx($,{open:o.value,onOpen:o.onTrue,onClose:o.onFalse,filters:s,onFilters:C,canReset:f,onResetFilters:P,colorOptions:B,ratingOptions:H,genderOptions:v,categoryOptions:["all",...V]}),r.jsx(D,{sort:c,onSort:T,sortOptions:W})]})]}),_=r.jsx(K,{filters:s,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=r.jsx(rt,{filled:!0,title:"No Data",sx:{py:10}});return r.jsxs(L,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[r.jsx(M,{totalItems:g.totalItems}),r.jsx(Q,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),r.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[I,f&&_]}),(y||a)&&E,r.jsx(X,{products:S,loading:l})]})}function ot({inputData:t,filters:g,sortBy:o}){const{gender:c,category:d,colors:u,priceRange:h,rating:m}=g,s=h[0],p=h[1];return o==="featured"&&(t=x(t,["totalSold"],["desc"])),o==="newest"&&(t=x(t,["createdAt"],["desc"])),o==="priceDesc"&&(t=x(t,["price"],["desc"])),o==="priceAsc"&&(t=x(t,["price"],["asc"])),c.length&&(t=t.filter(e=>c.includes(e.gender))),d!=="all"&&(t=t.filter(e=>e.category===d)),u.length&&(t=t.filter(e=>e.colors.some(l=>u.includes(l)))),(s!==0||p!==200)&&(t=t.filter(e=>e.price>=s&&e.price<=p)),m&&(t=t.filter(e=>{const l=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return e.totalRatings>l(m)})),t}function xr(){return r.jsxs(r.Fragment,{children:[r.jsx(Y,{children:r.jsx("title",{children:" Product: Shop"})}),r.jsx(et,{})]})}export{xr as default};
