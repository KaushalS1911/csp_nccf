import{aD as w,aE as G,c as L,r as c,aF as U,aG as A,aH as Q,j as s,aI as H,C as q,aJ as B,T as v,S as O,aK as J,aL as K,p as M,aM as V,aN as W,aO as Y,aP as z,aQ as X,aR as Z,aS as $,aT as D,H as ee}from"./index-pX0nUGX5.js";import{o as S}from"./orderBy-M4NWToAd.js";import{u as se}from"./use-debounce-cGJSlkn9.js";import"./_baseEach-6JNcKGbL.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function te(){const e=w(),p=G(),r=L(),[a,h]=c.useState("featured"),[f,x]=c.useState(""),l=se(f),[o,i]=c.useState(R),{products:t,productsLoading:d,productsEmpty:u}=U(),{searchResults:j,searchLoading:F}=A(l),P=c.useCallback((n,E)=>{i(k=>({...k,[n]:E}))},[]),C=c.useCallback(()=>{i(R)},[]),m=re({inputData:t,filters:o,sortBy:a}),g=!Q(R,o),y=!m.length&&g,T=c.useCallback(n=>{h(n)},[]),I=c.useCallback(n=>{x(n)},[]),N=s.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[s.jsx(K,{query:l,results:j,onSearch:I,loading:F,hrefItem:n=>M.product.details(n)}),s.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[s.jsx(V,{open:r.value,onOpen:r.onTrue,onClose:r.onFalse,filters:o,onFilters:P,canReset:g,onResetFilters:C,colorOptions:W,ratingOptions:Y,genderOptions:z,categoryOptions:["all",...X]}),s.jsx(Z,{sort:a,onSort:T,sortOptions:$})]})]}),_=s.jsx(H,{filters:o,onFilters:P,canReset:g,onResetFilters:C,results:m.length}),b=s.jsx(D,{filled:!0,title:"No Data",sx:{py:10}});return s.jsxs(q,{maxWidth:e.themeStretch?!1:"lg",sx:{mb:15},children:[s.jsx(B,{totalItems:p.totalItems}),s.jsx(v,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),s.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[N,g&&_]}),(y||u)&&b,s.jsx(J,{products:m,loading:d})]})}function re({inputData:e,filters:p,sortBy:r}){const{gender:a,category:h,colors:f,priceRange:x,rating:l}=p,o=x[0],i=x[1];return r==="featured"&&(e=S(e,["totalSold"],["desc"])),r==="newest"&&(e=S(e,["createdAt"],["desc"])),r==="priceDesc"&&(e=S(e,["price"],["desc"])),r==="priceAsc"&&(e=S(e,["price"],["asc"])),a.length&&(e=e.filter(t=>a.includes(t.gender))),h!=="all"&&(e=e.filter(t=>t.category===h)),f.length&&(e=e.filter(t=>t.colors.some(d=>f.includes(d)))),(o!==0||i!==200)&&(e=e.filter(t=>t.price>=o&&t.price<=i)),l&&(e=e.filter(t=>{const d=u=>u==="up4Star"?4:u==="up3Star"?3:u==="up2Star"?2:1;return t.totalRatings>d(l)})),e}function le(){return s.jsxs(s.Fragment,{children:[s.jsx(ee,{children:s.jsx("title",{children:" Product: Shop"})}),s.jsx(te,{})]})}export{le as default};
