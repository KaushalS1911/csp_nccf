import{a as T,r as m,A as c,f as A,p as W,j as t,B as b,T as p,F as z,g as a,D as l,x as E,y as u,z as h,t as G}from"./index-YMMvAUfd.js";import{G as s}from"./Grid-HHK7mZ1G.js";const Y=({vendor_category:r})=>{const j=T(),[x,_]=m.useState([]),[f,g]=m.useState([]),[y,w]=m.useState([]),[S,O]=m.useState(""),o=x.find(e=>(e==null?void 0:e.state_name)===S),P=(e,i)=>{O(i),d.setValue("state",i)},C=["Partnership","Proprietary ","LLP","Public Limited","Other"],B=["Retail outlet","Mobile van"];m.useEffect(()=>{R()},[]),m.useEffect(()=>{o&&o.state_id&&(F(o.state_id),M(o.state_id))},[o]);function R(){c.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state").then(e=>{var i;_((i=e==null?void 0:e.data)==null?void 0:i.data)})}function F(e){c.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${e}/branch`).then(i=>{var n;g((n=i==null?void 0:i.data)==null?void 0:n.data)})}function M(e){c.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${e}/district`).then(i=>{var n;w((n=i==null?void 0:i.data)==null?void 0:n.data)})}const N=["Dry","Wet","Both"],d=A({defaultValues:{name:"",category:"",milling_type:"",mil_dis_sub_roles:"",type_of_firm:"",contact_person:"",phone_number:"",email:"",password:"",confirm_password:"",address:"",state:"",district:"",procurement_area:"",branch:"",pincode:"",pan_number:"",gst_number:"",mode:""}}),{reset:I,control:U,register:H,handleSubmit:D,formState:{isSubmitting:V}}=d,L=D(async e=>{alert("hiiii");const i={name:e.name||"",category:r||"",milling_type:e.milling_type||"",mil_dis_sub_roles:e.mil_dis_sub_roles||"",type_of_firm:e.type_of_firm||"",contact_person:e.contact_person||"",phone_number:e.phone_number||"",email:e.email||"",password:e.password||"",confirm_password:e.confirm_password||"",address:e.address||"",state:e.state||"",district:e.district||"",procurement_area:e.procurement_area||"",branch:e.branch||"",pincode:e.pincode||"",pan_number:e.pan_number||"",gst_number:e.gst_number||"",mode:""};console.log(i,"payload"),c.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp",i).then(n=>{j.push(W.auth.jwt.login)}).catch(n=>console.log(n))});return t.jsxs(b,{p:5,className:"registerForm",sx:{backgroundColor:"white",borderRadius:"10px"},children:[t.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",children:"Basic Information"}),t.jsxs(z,{onSubmit:L,methods:d,children:[t.jsxs(s,{container:!0,spacing:3,children:[t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"name",label:r==="distributor"||r==="miller_distributor"?"Distributor Name":r==="miller"?"Milling Unit Name":"Society Name"})}),r==="miller"&&t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(l,{name:"milling_type",type:"milling_type",label:"Milling Type",placeholder:"Choose Milling Type",fullWidth:!0,options:N.map(e=>e),getOptionLabel:e=>e})}),r!=="society_cooperative"&&t.jsx(s,{item:!0,xs:12,sm:3,children:t.jsx(l,{name:"type_of_firm",label:"Type of Firm",placeholder:"Choose Your firm",fullWidth:!0,options:C.map(e=>e),getOptionLabel:e=>e})}),t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"contact_person",label:"Contact Person"})}),t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"phone_number",label:"Phone Number",type:"number"})}),t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"email",label:"Email",type:"email"})}),(r==="distributor"||r==="miller_distributor")&&t.jsxs(t.Fragment,{children:[t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"area_of_Opration",label:"Area of Opration"})}),t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"capacity",label:"Capacity /day (MT)"})}),t.jsx(s,{item:!0,xs:12,sm:3,children:t.jsx(l,{name:"mode",label:"Mode of Sale",placeholder:"Choose mode of sale",fullWidth:!0,options:B.map(e=>e),getOptionLabel:e=>e})})]}),t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"pan_number",label:"PAN Number"})}),t.jsx(s,{item:!0,xs:12,sm:6,md:3,children:t.jsx(a,{name:"gst_number",label:"GST Number"})}),r==="society_cooperative"&&t.jsx(s,{item:!0,xs:12,children:t.jsxs(E,{row:!0,"aria-label":"vendor",name:"mil_dis_sub_roles",children:[t.jsx(u,{value:"own_distribution_own_mill",control:t.jsx(h,{}),label:"Own Mill and Distribution"}),t.jsx(u,{value:"own_distribution_rent_mill",control:t.jsx(h,{}),label:"Own Distribution and Rent Mill"}),t.jsx(u,{value:"cooperative_rent_mill",control:t.jsx(h,{}),label:"Co-operative (Rent Mill)"})]})})]}),t.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:` ${r==="distributor"||r==="miller_distributor"?"Address of Proposed Distributor Premises":r==="miller"?"Address of Proposed Milling Unit Premises":"Address Information"}`}),t.jsxs(s,{container:!0,spacing:3,children:[t.jsx(s,{item:!0,xs:12,children:t.jsx(a,{name:"address",label:"Address"})}),t.jsx(s,{item:!0,xs:12,sm:4,children:t.jsx(l,{name:"state",label:"State",placeholder:"Choose Your State",fullWidth:!0,options:x.map(e=>e==null?void 0:e.state_name),getOptionLabel:e=>e,onChange:P})}),t.jsx(s,{item:!0,xs:12,sm:4,children:t.jsx(l,{name:"district",label:"District",placeholder:"Choose Your District",fullWidth:!0,options:y.map(e=>e==null?void 0:e.district),getOptionLabel:e=>e,disabled:!o})}),t.jsx(s,{item:!0,xs:12,sm:4,children:t.jsx(a,{name:"pincode",label:"Pin Code"})}),t.jsx(s,{item:!0,xs:12,sm:4,children:t.jsx(l,{name:"branch",label:"Branch",placeholder:"Choose Your Branch",fullWidth:!0,options:f.map(e=>e==null?void 0:e.branch_name),getOptionLabel:e=>e,disabled:!o})}),t.jsx(s,{item:!0,xs:12,sm:6,md:4,children:t.jsx(a,{name:"procurement_area",label:"Procurement area"})})]}),t.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:"Password"}),t.jsxs(s,{container:!0,spacing:3,children:[t.jsx(s,{item:!0,xs:12,sm:6,md:4,children:t.jsx(a,{type:"password",name:"password",label:"Password"})}),t.jsx(s,{item:!0,xs:12,sm:6,md:4,children:t.jsx(a,{type:"password",name:"confirm_password",label:"Confirm Password"})})]}),t.jsx(b,{display:"flex",justifyContent:"flex-end",mt:3,children:t.jsx(G,{type:"submit",variant:"contained",color:"primary",children:"SUBMIT"})})]})]})},J=Y;export{J as R};
