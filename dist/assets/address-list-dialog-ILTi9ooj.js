import{j as e,S as a,W as T,T as p,B as b,aA as g,a8 as n,d as F,e as c,c2 as N,f as S,bs as C,F as q,bt as I,bu as L,c3 as $,g as h,N as D,c4 as k,z as H,bv as B,D as R,k as G,o as O,r as f,ag as P,c5 as z,a6 as W,I as E,i as Z,c6 as U}from"./index-olk6yeAs.js";function V({address:i,action:t,sx:o,...y}){const{name:d,fullAddress:u,addressType:m,phoneNumber:l,primary:x}=i;return e.jsxs(a,{component:T,spacing:2,alignItems:{md:"flex-end"},direction:{xs:"column",md:"row"},sx:{position:"relative",...o},...y,children:[e.jsxs(a,{flexGrow:1,spacing:1,children:[e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsxs(p,{variant:"subtitle2",children:[d,e.jsxs(b,{component:"span",sx:{ml:.5,typography:"body2",color:"text.secondary"},children:["(",m,")"]})]}),x&&e.jsx(g,{color:"info",sx:{ml:1},children:"Default"})]}),e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:u}),e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:l})]}),t&&t]})}V.propTypes={action:n.node,address:n.object,sx:n.object};function X({open:i,onClose:t,onCreate:o}){const y=F().shape({name:c().required("Fullname is required"),phoneNumber:c().required("Phone number is required"),address:c().required("Address is required"),city:c().required("City is required"),state:c().required("State is required"),country:c().required("Country is required"),zipCode:c().required("Zip code is required"),addressType:c(),primary:N()}),d={name:"",city:"",state:"",address:"",zipCode:"",primary:!0,phoneNumber:"",addressType:"Home",country:""},u=S({resolver:O(y),defaultValues:d}),{handleSubmit:m,formState:{isSubmitting:l}}=u,x=m(async s=>{try{o({name:s.name,phoneNumber:s.phoneNumber,fullAddress:`${s.address}, ${s.city}, ${s.state}, ${s.country}, ${s.zipCode}`,addressType:s.addressType,primary:s.primary}),t()}catch(j){console.error(j)}});return e.jsx(C,{fullWidth:!0,maxWidth:"sm",open:i,onClose:t,children:e.jsxs(q,{methods:u,onSubmit:x,children:[e.jsx(I,{children:"New address"}),e.jsx(L,{dividers:!0,children:e.jsxs(a,{spacing:3,children:[e.jsx($,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),e.jsxs(b,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(h,{name:"name",label:"Full Name"}),e.jsx(h,{name:"phoneNumber",label:"Phone Number"})]}),e.jsx(h,{name:"address",label:"Address"}),e.jsxs(b,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[e.jsx(h,{name:"city",label:"Town / City"}),e.jsx(h,{name:"state",label:"State"}),e.jsx(h,{name:"zipCode",label:"Zip/Code"})]}),e.jsx(D,{name:"country",type:"country",label:"Country",placeholder:"Choose a country",options:k.map(s=>s.label),getOptionLabel:s=>s}),e.jsx(H,{name:"primary",label:"Use this address as default."})]})}),e.jsxs(B,{children:[e.jsx(R,{color:"inherit",variant:"outlined",onClick:t,children:"Cancel"}),e.jsx(G,{type:"submit",variant:"contained",loading:l,children:"Deliver to this Address"})]})]})})}X.propTypes={onClose:n.func,onCreate:n.func,open:n.bool};function J({title:i="Address Book",list:t,action:o,open:y,onClose:d,selected:u,onSelect:m}){const[l,x]=f.useState(""),s=K({inputData:t,query:l}),j=!s.length&&!!l,v=f.useCallback(r=>{x(r.target.value)},[]),A=f.useCallback(r=>{m(r),x(""),d()},[d,m]),w=e.jsx(a,{spacing:.5,sx:{p:.5,maxHeight:80*8,overflowX:"hidden"},children:s.map(r=>e.jsxs(a,{spacing:.5,component:P,selected:u(`${r.id}`),onClick:()=>A(r),sx:{py:1,px:1.5,borderRadius:1,flexDirection:"column",alignItems:"flex-start",[`&.${z.selected}`]:{bgcolor:"action.selected","&:hover":{bgcolor:"action.selected"}}},children:[e.jsxs(a,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(p,{variant:"subtitle2",children:r.name}),r.primary&&e.jsx(g,{color:"info",children:"Default"})]}),r.company&&e.jsx(b,{sx:{color:"primary.main",typography:"caption"},children:r.company}),e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:r.fullAddress}),r.phoneNumber&&e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:r.phoneNumber})]},r.id))});return e.jsxs(C,{fullWidth:!0,maxWidth:"xs",open:y,onClose:d,children:[e.jsxs(a,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[e.jsxs(p,{variant:"h6",children:[" ",i," "]}),o&&o]}),e.jsx(a,{sx:{p:2,pt:0},children:e.jsx(W,{value:l,onChange:v,placeholder:"Search...",InputProps:{startAdornment:e.jsx(E,{position:"start",children:e.jsx(Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),j?e.jsx(U,{query:l,sx:{px:3,pt:5,pb:10}}):w]})}J.propTypes={action:n.node,list:n.array,onClose:n.func,onSelect:n.func,open:n.bool,selected:n.func,title:n.string};function K({inputData:i,query:t}){return t?i.filter(o=>o.name.toLowerCase().indexOf(t.toLowerCase())!==-1||o.fullAddress.toLowerCase().indexOf(t.toLowerCase())!==-1||`${o.company}`.toLowerCase().indexOf(t.toLowerCase())!==-1):i}export{V as A,X as a,J as b};
