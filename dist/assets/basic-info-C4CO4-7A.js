import{aF as N,u as k,r as o,cC as H,J as h,f as U,K as g,j as t,H as Y,C as $,T as b,B as i,F as V,Q as q,ah as m,n as j,g as l,M as p,z as J,D as K,E as Q,S as X,w as Z,k as ee}from"./index-wjyZnJOr.js";function ae(){const y=N(),{vendor:u}=k(),[n,S]=o.useState(!0),r=u==null?void 0:u.category,[f,C]=o.useState([]),[v,w]=o.useState([]),[O,B]=o.useState([]),[P,W]=o.useState(""),d=f.find(e=>(e==null?void 0:e.state_name)===P),D=(e,a)=>{W(a),x.setValue("state",a)},{profile:s}=H();o.useEffect(()=>{M()},[]),o.useEffect(()=>{d&&d.state_id&&(F(d.state_id),L(d.state_id))},[d]);function M(){h.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state").then(e=>{var a;C((a=e==null?void 0:e.data)==null?void 0:a.data)})}function F(e){h.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${e}/branch`).then(a=>{var c;w((c=a==null?void 0:a.data)==null?void 0:c.data)})}function L(e){h.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${e}/district`).then(a=>{var c;B((c=a==null?void 0:a.data)==null?void 0:c.data)})}const x=U({defaultValues:{name:"",milling_type:"",mil_dis_sub_roles:"",type_of_firm:"",contact_person:"",phone_number:"",email:"",address:"",state:"",district:"",procurement_area:"",branch:"",pincode:"",pan_number:"",gst_number:""}}),{reset:_,handleSubmit:T,formState:{isSubmitting:I}}=x;o.useEffect(()=>{s&&_({name:s.name||"",milling_type:s.milling_type||"",mil_dis_sub_roles:s.mil_dis_sub_roles||"",type_of_firm:s.type_of_firm||"",contact_person:s.contact_person||"",phone_number:s.phone_number||"",email:s.email||"",password:s.password||"",confirm_password:s.confirm_password||"",address:s.address||"",state:s.state||"",district:s.district||"",procurement_area:s.procurement_area||"",branch:s.branch||"",pincode:s.pincode||"",pan_number:s.pan_number||"",gst_number:s.gst_number||""})},[s,_,u]);const R=T(async e=>{const a={...e,csp_code:u.csp_code,updated_on:new Date().toISOString(),mode:"test"};h.put("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/update_info",a).then(c=>{g("Update successfully")}).catch(c=>{g("Something went wrong",{variant:"error"})})}),z=[{label:"Co-operative (Rent Mill)",value:"cooperative_rent_mill"},{label:"Own Distribution and Rent Mill",value:"own_distribution_rent_mill"},{label:"Own Mill and Distribution",value:"own_distribution_own_mill"}],E=["Partnership","Proprietary ","LLP","Public Limited","Other"],G=["Retail outlet","Mobile van"],A=["Dry","Wet","Both"];return t.jsxs(t.Fragment,{children:[t.jsx(Y,{children:t.jsx("title",{children:" Dashboard | Basic Info"})}),t.jsxs($,{maxWidth:y.themeStretch?!1:"xl",children:[t.jsx(b,{variant:"h4",children:" Basic Information"}),t.jsx(i,{sx:{mt:5,width:1,height:320,borderRadius:2},children:t.jsxs(V,{methods:x,onSubmit:R,children:[t.jsx(q,{}),t.jsxs(m,{container:!0,children:[t.jsx(m,{item:!0,md:4,children:t.jsx(i,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:t.jsxs(i,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:["Basic Information",t.jsx(b,{sx:{fontSize:"13px",color:"#637381"},children:"Basic Information Input fields"})]})})}),t.jsx(m,{md:8,xs:12,item:!0,children:t.jsx(j,{sx:{p:3},children:t.jsxs(i,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:[t.jsx(l,{name:"name",disabled:n,label:r==="distributor"?"Distributor Name":r==="miller"||r==="miller_distributor"?"Milling Unit Name":"Society Name"}),(r==="miller"||r==="miller_distributor")&&t.jsx(p,{name:"milling_type",type:"milling_type",label:"Milling Type",disabled:n,placeholder:"Choose Milling Type",fullWidth:!0,options:A.map(e=>e),getOptionLabel:e=>e}),r!=="society_cooperative"&&t.jsx(p,{disabled:n,name:"type_of_firm",label:"Type of Firm",placeholder:"Choose Your firm",fullWidth:!0,options:E.map(e=>e),getOptionLabel:e=>e}),t.jsx(l,{name:"email",label:"Email",disabled:n}),t.jsx(l,{name:"contact_person",label:"Contact Person",disabled:n}),t.jsx(l,{name:"phone_number",label:"Phone Number",disabled:n}),r==="distributor"&&t.jsxs(t.Fragment,{children:[t.jsx(l,{name:"area_of_Opration",label:"Area of Opration"}),t.jsx(l,{name:"capacity",label:"Capacity /day (MT)"}),t.jsx(p,{name:"mode",label:"Mode of Sale",placeholder:"Choose mode of sale",fullWidth:!0,options:G.map(e=>e),getOptionLabel:e=>e})]}),t.jsx(l,{name:"pan_number",label:"Pan Number",disabled:n}),t.jsx(l,{name:"gst_number",label:"GST Number",disabled:n}),r==="society_cooperative"&&t.jsxs(J,{row:!0,"aria-label":"vendor",name:"mil_dis_sub_roles",children:[t.jsx(i,{sx:{fontWeight:"500"},children:"Society Cooperative Category :"}),z.map(e=>t.jsx(K,{checked:(e==null?void 0:e.value).includes(s==null?void 0:s.mil_dis_sub_roles),value:e==null?void 0:e.value,control:t.jsx(Q,{}),label:e==null?void 0:e.label}))]})]})})})]}),t.jsxs(m,{container:!0,sx:{mt:"80px"},children:[t.jsx(m,{item:!0,md:4,children:t.jsx(i,{sx:{ml:{md:"60px",xs:"0"},mt:"60px"},children:t.jsx(i,{sx:{mb:"30px",mt:"10px",fontWeight:"600",fontSize:"18px"},children:t.jsx(b,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:` ${r==="distributor"||r==="miller_distributor"||r==="miller"?"Address of Proposed Milling Unit Premises":"Address Information"}`})})})}),t.jsx(m,{md:8,xs:12,item:!0,children:t.jsx(j,{sx:{p:3},children:t.jsxs(i,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:[t.jsx(i,{gridColumn:{xs:"span 1",sm:"span 2",md:"span 4"},children:t.jsx(l,{name:"address",label:"Address",fullWidth:!0,disabled:n})}),t.jsx(i,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(p,{name:"state",label:"State",disabled:n,placeholder:"Choose Your State",fullWidth:!0,options:f.map(e=>e==null?void 0:e.state_name),getOptionLabel:e=>e,onChange:D})}),t.jsx(i,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(p,{name:"district",label:"District",placeholder:"Choose Your District",fullWidth:!0,options:O.map(e=>e==null?void 0:e.district),getOptionLabel:e=>e,disabled:!d})}),t.jsx(i,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(p,{name:"branch",label:"Branch",placeholder:"Choose Your Branch",fullWidth:!0,options:v.map(e=>e==null?void 0:e.branch_name),getOptionLabel:e=>e,disabled:!d})}),t.jsx(i,{gridColumn:{xs:"span 1",sm:"span 1",md:"span 2"},children:t.jsx(l,{name:"pincode",label:"Pin Code",fullWidth:!0,disabled:n})})]})})})]}),t.jsx(X,{display:"flex",alignItems:"flex-end",sx:{mt:3},children:t.jsxs(i,{children:[t.jsx(Z,{color:"inherit",variant:"outlined",sx:{mr:"20px"},onClick:()=>S(e=>!e),children:n?"Edit":"Cancel"}),t.jsx(ee,{type:"submit",loading:I,variant:"contained",disabled:n,children:"Save"})]})})]})})]})]})}export{ae as default};
