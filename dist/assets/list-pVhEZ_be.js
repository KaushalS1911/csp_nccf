import{ax as w,ay as A,c as U,r as c,az as G,j as s,C as L,T as B,S as O,p as Q,aA as q,aB as H,aC as v,aD as z,aE as V,aF as W,H as Y}from"./index-8oEAyshB.js";import{u as J,a as K,P as M,C as X,b as Z,c as $,d as D,e as ee}from"./product-shop-details-view-vIOQ5gcv.js";import{o as x}from"./orderBy-6Plcx1b3.js";import{u as se}from"./use-debounce-Ei0SiQm8.js";import"./LoadingButton-Qy0ELVUm.js";import"./CircularProgress-XcS_0YSz.js";import"./color-preview-RPscH9Ae.js";import"./Fab-0JM6MRqw.js";import"./Pagination-wGti3Pjw.js";import"./Rating-QQc2FveK.js";import"./product-details-carousel-iYm_oyxa.js";import"./carousel-arrow-index-dx0DhTna.js";import"./sumBy-h5xG6Wsi.js";import"./_baseIteratee-8pHP-8PR.js";import"./_baseToString-F-N5B_3O.js";import"./_baseSum-gu02AyRp.js";import"./Skeleton-Q5sl-6Jz.js";import"./incrementer-button-bTWQetTK.js";import"./markdown-KnvcduF3.js";import"./_baseEach-OHMKNVFO.js";const C={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function te(){const e=w(),g=A(),r=U(),[i,m]=c.useState("featured"),[p,h]=c.useState(""),l=se(p),[o,a]=c.useState(C),{products:t,productsLoading:d,productsEmpty:u}=J(),{searchResults:j,searchLoading:F}=K(l),R=c.useCallback((n,N)=>{a(k=>({...k,[n]:N}))},[]),P=c.useCallback(()=>{a(C)},[]),S=re({inputData:t,filters:o,sortBy:i}),f=!G(C,o),y=!S.length&&f,T=c.useCallback(n=>{m(n)},[]),I=c.useCallback(n=>{h(n)},[]),b=s.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[s.jsx($,{query:l,results:j,onSearch:I,loading:F,hrefItem:n=>Q.product.details(n)}),s.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[s.jsx(D,{open:r.value,onOpen:r.onTrue,onClose:r.onFalse,filters:o,onFilters:R,canReset:f,onResetFilters:P,colorOptions:q,ratingOptions:H,genderOptions:v,categoryOptions:["all",...z]}),s.jsx(ee,{sort:i,onSort:T,sortOptions:V})]})]}),_=s.jsx(M,{filters:o,onFilters:R,canReset:f,onResetFilters:P,results:S.length}),E=s.jsx(W,{filled:!0,title:"No Data",sx:{py:10}});return s.jsxs(L,{maxWidth:e.themeStretch?!1:"lg",sx:{mb:15},children:[s.jsx(X,{totalItems:g.totalItems}),s.jsx(B,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),s.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[b,f&&_]}),(y||u)&&E,s.jsx(Z,{products:S,loading:d})]})}function re({inputData:e,filters:g,sortBy:r}){const{gender:i,category:m,colors:p,priceRange:h,rating:l}=g,o=h[0],a=h[1];return r==="featured"&&(e=x(e,["totalSold"],["desc"])),r==="newest"&&(e=x(e,["createdAt"],["desc"])),r==="priceDesc"&&(e=x(e,["price"],["desc"])),r==="priceAsc"&&(e=x(e,["price"],["asc"])),i.length&&(e=e.filter(t=>i.includes(t.gender))),m!=="all"&&(e=e.filter(t=>t.category===m)),p.length&&(e=e.filter(t=>t.colors.some(d=>p.includes(d)))),(o!==0||a!==200)&&(e=e.filter(t=>t.price>=o&&t.price<=a)),l&&(e=e.filter(t=>{const d=u=>u==="up4Star"?4:u==="up3Star"?3:u==="up2Star"?2:1;return t.totalRatings>d(l)})),e}function Fe(){return s.jsxs(s.Fragment,{children:[s.jsx(Y,{children:s.jsx("title",{children:" Product: Shop"})}),s.jsx(te,{})]})}export{Fe as default};
