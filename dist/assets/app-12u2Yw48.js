import{a9 as l,a3 as G,j as e,n as N,B as A,T as L,S as q,cP as W,co as xe,d as je,e as v,r as m,f as K,bt as X,F as Z,bu as U,bv as ee,A as qe,cQ as Fe,cR as We,ce as P,g as k,O as te,c5 as Ee,bw as se,z as O,k as Be,o as be,c as J,bs as ae,bN as De,bO as B,cS as Ie,aB as ze,bx as oe,i as T,cT as ge,a7 as Le,I as He,D as ie,cG as ce,cH as de,cU as me,cx as he,cu as V,X as Ne,u as $,a as ye,J as _,cV as E,K as H,aG as ne,cW as Me,cX as Ve,aK as Ge,C as le,cv as $e,R as Qe,cY as Ye,cZ as Je,bR as Ke,c_ as Xe,ca as Ze,h as Ue,bS as et,bT as tt,bU as st,bV as at,c$ as ot,d0 as nt,d1 as lt,d2 as rt,ai as w,aj as it,d3 as re,d4 as fe,bL as Ce,az as ct,d5 as dt,be as mt,H as ht,d6 as ut}from"./index-jKnsTm0t.js";l.string,l.array,l.array,l.string;l.object;function D({title:t,total:o,sx:i,...r}){return G(),e.jsx(N,{sx:{display:"flex",alignItems:"center",p:3,...i},...r,children:e.jsxs(A,{sx:{flexGrow:1},children:[e.jsx(L,{variant:"subtitle2",children:t}),e.jsx(q,{direction:"row",alignItems:"center",sx:{mt:2,mb:1}}),e.jsx(L,{variant:"h3",children:W(o)})]})})}D.propTypes={chart:l.shape({colors:l.array,series:l.array.isRequired,options:l.object}),percent:l.number,sx:l.object,title:l.string,total:l.number};function we({currentUser:t,open:o,onClose:i}){const{enqueueSnackbar:r}=xe(),h=je().shape({name:v().required("Name is required"),email:v().required("Email is required").email("Email must be a valid email address"),phoneNumber:v().required("Phone number is required"),address:v().required("Address is required"),country:v().required("Country is required"),company:v().required("Company is required"),state:v().required("State is required"),city:v().required("City is required"),role:v().required("Role is required")}),p=m.useMemo(()=>({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",address:(t==null?void 0:t.address)||"",country:(t==null?void 0:t.country)||"",state:(t==null?void 0:t.state)||"",city:(t==null?void 0:t.city)||"",zipCode:(t==null?void 0:t.zipCode)||"",status:t==null?void 0:t.status,company:(t==null?void 0:t.company)||"",role:(t==null?void 0:t.role)||""}),[t]),a=K({resolver:be(h),defaultValues:p}),{reset:x,handleSubmit:s,formState:{isSubmitting:n}}=a,d=s(async c=>{try{await new Promise(u=>setTimeout(u,500)),x(),i(),r("Update success!"),console.info("DATA",c)}catch(u){console.error(u)}});return e.jsx(X,{fullWidth:!0,maxWidth:!1,open:o,onClose:i,PaperProps:{sx:{maxWidth:720}},children:e.jsxs(Z,{methods:a,onSubmit:d,children:[e.jsx(U,{children:"Quick Update"}),e.jsxs(ee,{children:[e.jsx(qe,{variant:"outlined",severity:"info",sx:{mb:3},children:"Account is waiting for confirmation"}),e.jsxs(A,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(Fe,{name:"status",label:"Status",children:We.map(c=>e.jsx(P,{value:c.value,children:c.label},c.value))}),e.jsx(A,{sx:{display:{xs:"none",sm:"block"}}}),e.jsx(k,{name:"name",label:"Full Name"}),e.jsx(k,{name:"email",label:"Email Address"}),e.jsx(k,{name:"phoneNumber",label:"Phone Number"}),e.jsx(te,{name:"country",type:"country",label:"Country",placeholder:"Choose a country",fullWidth:!0,options:Ee.map(c=>c.label),getOptionLabel:c=>c}),e.jsx(k,{name:"state",label:"State/Region"}),e.jsx(k,{name:"city",label:"City"}),e.jsx(k,{name:"address",label:"Address"}),e.jsx(k,{name:"zipCode",label:"Zip/Code"}),e.jsx(k,{name:"company",label:"Company"}),e.jsx(k,{name:"role",label:"Role"})]})]}),e.jsxs(se,{children:[e.jsx(O,{variant:"outlined",onClick:i,children:"Cancel"}),e.jsx(Be,{type:"submit",variant:"contained",loading:n,children:"Update"})]})]})})}we.propTypes={open:l.bool,onClose:l.func,currentUser:l.object};function Se({row:t,selected:o,onEditRow:i,onSelectRow:r,onDeleteRow:h}){const{commodity:p,created_at:a,quantity:x,index:s,nccf_order_status:n}=t,d=J(),c=J(),u=ae();return e.jsxs(e.Fragment,{children:[e.jsxs(De,{hover:!0,selected:o,children:[e.jsx(B,{sx:{whiteSpace:"nowrap"},children:s+1}),e.jsx(B,{sx:{whiteSpace:"nowrap"},children:p}),e.jsx(B,{sx:{whiteSpace:"nowrap"},children:x}),e.jsx(B,{sx:{whiteSpace:"nowrap"},children:Ie(a).format("DD/MM/YYYY")}),e.jsx(B,{children:e.jsx(ze,{variant:"soft",color:n==="accepted"&&"success"||n==="placed"&&"warning"||n==="declined"&&"error"||"default",children:n})})]}),e.jsx(we,{currentUser:t,open:c.value,onClose:c.onFalse}),e.jsxs(oe,{open:u.open,onClose:u.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(P,{onClick:()=>{d.onTrue(),u.onClose()},sx:{color:"error.main"},children:[e.jsx(T,{icon:"solar:trash-bin-trash-bold"}),"Delete"]}),e.jsxs(P,{onClick:()=>{i(),u.onClose()},children:[e.jsx(T,{icon:"solar:pen-bold"}),"Edit"]})]}),e.jsx(ge,{open:d.value,onClose:d.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(O,{variant:"contained",color:"error",onClick:h,children:"Delete"})})]})}Se.propTypes={onDeleteRow:l.func,onEditRow:l.func,onSelectRow:l.func,row:l.object,selected:l.bool};function ve({filters:t,onFilters:o,commodityOptions:i,orderStatusOptions:r}){const h=ae(),p=m.useCallback(s=>{o("name",s.target.value)},[o]),a=m.useCallback(s=>{o("commodity",typeof s.target.value=="string"?s.target.value.split(","):s.target.value)},[o]),x=m.useCallback(s=>{o("order_status",typeof s.target.value=="string"?s.target.value.split(","):s.target.value)},[o]);return e.jsxs(e.Fragment,{children:[e.jsx(q,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:2.5},children:e.jsxs(q,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[e.jsx(Le,{fullWidth:!0,value:t.name,onChange:p,placeholder:"Search...",InputProps:{startAdornment:e.jsx(He,{position:"start",children:e.jsx(T,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),e.jsxs(ie,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(ce,{children:"Commodity"}),e.jsx(de,{multiple:!0,value:t.commodity,onChange:a,input:e.jsx(me,{label:"Commodity"}),renderValue:s=>s.map(n=>n).join(", "),MenuProps:{PaperProps:{sx:{maxHeight:240}}},children:i.map(s=>e.jsxs(P,{value:s,children:[e.jsx(he,{disableRipple:!0,size:"small",checked:t.commodity.includes(s)}),s]},s))})]}),e.jsxs(ie,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(ce,{children:"Status"}),e.jsx(de,{multiple:!0,value:t.order_status,onChange:x,input:e.jsx(me,{label:"Status"}),renderValue:s=>s.map(n=>n).join(", "),MenuProps:{PaperProps:{sx:{maxHeight:240}}},children:r.map(s=>e.jsxs(P,{value:s,children:[e.jsx(he,{disableRipple:!0,size:"small",checked:t.order_status.includes(s)}),s]},s))})]})]})}),e.jsxs(oe,{open:h.open,onClose:h.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(P,{onClick:()=>{h.onClose()},children:[e.jsx(T,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(P,{onClick:()=>{h.onClose()},children:[e.jsx(T,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(P,{onClick:()=>{h.onClose()},children:[e.jsx(T,{icon:"solar:export-bold"}),"Export"]})]})]})}ve.propTypes={filters:l.object,onFilters:l.func,roleOptions:l.array};function ke({filters:t,onFilters:o,onResetFilters:i,results:r,...h}){const p=m.useCallback(()=>{o("commodity","")},[o]),a=m.useCallback(()=>{o("status","all")},[o]),x=m.useCallback(n=>{const d=t.commodity.filter(c=>c!==n);o("commodity",d)},[t.commodity,o]),s=m.useCallback(n=>{const d=t.order_status.filter(c=>c!==n);o("order_status",d)},[t.order_status,o]);return e.jsxs(q,{spacing:1.5,...h,children:[e.jsxs(A,{sx:{typography:"body2"},children:[e.jsx("strong",{children:r}),e.jsx(A,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(q,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[t.status!=="all"&&e.jsx(I,{label:"Status:",children:e.jsx(V,{size:"small",label:t.status,onDelete:a})}),!!t.commodity.length&&e.jsx(I,{label:"Commodity:",children:t.commodity.map(n=>e.jsx(V,{label:n,size:"small",onDelete:()=>x(n)},n))}),!!t.order_status.length&&e.jsx(I,{label:"Status:",children:t.order_status.map(n=>e.jsx(V,{label:n,size:"small",onDelete:()=>s(n)},n))}),!!t.name&&e.jsx(I,{label:"Keyword:",children:e.jsx(V,{label:t.name,size:"small",onDelete:p})}),e.jsx(O,{color:"error",onClick:i,startIcon:e.jsx(T,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}ke.propTypes={filters:l.object,onFilters:l.func,onResetFilters:l.func,results:l.number};function I({label:t,children:o,sx:i,...r}){return e.jsxs(q,{component:Ne,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...i},...r,children:[e.jsx(A,{component:"span",sx:{typography:"subtitle2"},children:t}),e.jsx(q,{spacing:1,direction:"row",flexWrap:"wrap",children:o})]})}I.propTypes={children:l.node,label:l.string,sx:l.object};const pt=je().shape({commodity:v().required("Commodity is required"),quantity:v().required("Quantity is required")});function xt({dialogOpen:t,setDialogOpen:o,editId:i,fetchAllOrdersDemo:r}){const[h,p]=m.useState([]),[a,x]=m.useState([]),{vendor:s}=$();ye();function n(){_.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${s.csp_code}/orders`).then(C=>{var R;x((R=C.data)==null?void 0:R.data)})}m.useEffect(()=>{d(),n()},[]);function d(){_.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/commodity").then(C=>{var R;p((R=C.data)==null?void 0:R.data)})}const c={csp_code:s.csp_code,commodity:"",quantity:""},u=K({defaultValues:c,resolver:be(pt)}),{reset:j,handleSubmit:f,formState:{isSubmitting:g}}=u,S=async C=>{const R={...C,csp_code:s.csp_code,mode:"test",status:"0"};try{const F=await _.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/create_order",R);F.data.status=="201"?(H("Order added successfully!"),o(!1),r(),j(c)):F.data.status=="400"&&H("Something went wrong!")}catch(F){console.error("Order creation error:",F),o(!1)}};return e.jsx(e.Fragment,{children:e.jsx(X,{open:t,fullWidth:!0,maxWidth:"md",onClose:()=>o(!1),children:e.jsxs(E,{sx:{py:5,px:3},children:[e.jsx(U,{children:"Add Order"}),e.jsxs(Z,{methods:u,children:[e.jsxs(ee,{maxWidth:"lg ",children:[e.jsx(E,{mb:2,mt:1,children:e.jsx(te,{name:"commodity",type:"commodity",label:"Commodity",placeholder:"Choose Commodity",fullWidth:!0,options:h.map(C=>C==null?void 0:C.commodity_name),getOptionLabel:C=>C})}),e.jsx(E,{mt:2,children:e.jsx(k,{name:"quantity",label:"Quantity",fullWidth:!0})})]}),e.jsxs(se,{children:[e.jsx(O,{onClick:()=>o(!1),variant:"outlined",color:"inherit",children:"Cancel"}),e.jsx(O,{variant:"contained",onClick:f(S),children:"Add"})]})]})]})})})}function jt({editDialogOpen:t,setEditDialogOpen:o,editData:i,dataFiltered:r,fetchAllOrdersDemo:h}){const[p,a]=m.useState([]),{vendor:x}=$();m.useState({}),m.useEffect(()=>{s()},[]);function s(){_.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/commodity").then(f=>{var g;a((g=f.data)==null?void 0:g.data)})}const n=K({defaultValues:{csp_code:"",commodity:"",quantity:""}}),{reset:d,handleSubmit:c,formState:{isSubmitting:u}}=n;m.useEffect(()=>{i&&d({csp_code:i==null?void 0:i.csp_code,commodity:i==null?void 0:i.commodity,quantity:i==null?void 0:i.quantity})},[i]);const j=async f=>{o(!1);const g={...f,csp_code:x.csp_code,mode:"test",status:"0"};try{const S=await _.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/create_order",g);S.data.status=="201"?(H("Order added successfully!"),h()):S.data.status=="400"&&H("Failed to add order.",{variant:"error"})}catch(S){console.error("Order creation error:",S),H("Order creation failed.",{variant:"error"})}};return e.jsx(X,{open:t,fullWidth:!0,maxWidth:"md",onClose:()=>o(!1),children:e.jsxs(E,{sx:{py:5,px:3},children:[e.jsx(U,{children:"Edit Order"}),e.jsxs(Z,{methods:n,children:[e.jsxs(ee,{maxWidth:"lg ",children:[e.jsx(E,{mb:2,mt:1,children:e.jsx(te,{name:"commodity",type:"commodity",label:"Commodity",placeholder:"Choose Commodity",fullWidth:!0,options:p.map(f=>f==null?void 0:f.commodity_name),getOptionLabel:f=>f})}),e.jsx(E,{mt:2,children:e.jsx(k,{name:"quantity",label:"Quantity",fullWidth:!0})})]}),e.jsxs(se,{children:[e.jsx(O,{onClick:()=>o(!1),variant:"outlined",color:"inherit",children:"Cancel"}),e.jsx(O,{variant:"contained",onClick:c(j),children:"Save"})]})]})]})})}const bt=[{id:"srNo",label:"Sr No",width:100},{id:"commodity",label:"Commodity",width:200},{id:"quantity",label:"Quantity",width:200},{id:"created_at",label:"Date",width:180},{id:"status",label:"Status",width:100}],Y={name:"",commodity:[],order_status:[],status:"all"};function gt({tableData:t,fetchAllOrdersDemo:o}){const{enqueueSnackbar:i}=xe(),r=ne(),h=ye(),p=J(),a=Me(),[x,s]=m.useState(!1),[n,d]=m.useState(0),[c,u]=m.useState(Y),[j,f]=m.useState({}),g=yt({inputData:t,comparator:Ve(a.order,a.orderBy),filters:c}),S=g.slice(a.page*a.rowsPerPage,a.page*a.rowsPerPage+a.rowsPerPage),C=a.dense?56:76,R=!Ge(Y,c),F=!g.length&&R||!g.length,M=m.useCallback((b,y)=>{a.onResetPage(),u(Q=>({...Q,[b]:y}))},[a]),Pe=m.useCallback(()=>{u(Y)},[]),_e=m.useCallback(b=>{const y=t.filter(Q=>Q.id!==b);i("Delete success!"),setTableData(y),a.onUpdatePageDeleteRow(S.length)},[S.length,i,a,t]),Oe=m.useCallback(()=>{const b=t.filter(y=>!a.selected.includes(y.id));i("Delete success!"),setTableData(b),a.onUpdatePageDeleteRows({totalRowsInPage:S.length,totalRowsFiltered:g.length})},[g.length,S.length,i,a,t]),Ae=m.useCallback(b=>{d(b==null?void 0:b.id),f(b)},[h]);return m.useCallback((b,y)=>{M("status",y)},[M]),m.useCallback(b=>{setTableData(y=>[...y,b])},[i]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{maxWidth:r.themeStretch?!1:"xxl",children:[e.jsx($e,{heading:"Orders",links:[{name:""}],action:e.jsx(O,{component:Qe,variant:"contained",startIcon:e.jsx(T,{icon:"mingcute:add-line"}),onClick:()=>{s(!0)},children:"Add Order"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(N,{children:[e.jsx(ve,{filters:c,onFilters:M,commodityOptions:Ye,orderStatusOptions:Je}),R&&e.jsx(ke,{filters:c,onFilters:M,onResetFilters:Pe,results:g.length,sx:{p:2.5,pt:0}}),e.jsxs(Ke,{sx:{position:"relative",overflow:"unset"},children:[e.jsx(Xe,{dense:!0,numSelected:a.selected.length,rowCount:g.length,onSelectAllRows:b=>a.onSelectAllRows(b,g.map(y=>y.id)),action:e.jsx(Ze,{title:"Delete",children:e.jsx(Ue,{color:"primary",onClick:p.onTrue,children:e.jsx(T,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(et,{children:e.jsxs(tt,{size:a.dense?"small":"medium",sx:{minWidth:960},children:[e.jsx(st,{order:a.order,orderBy:a.orderBy,headLabel:bt,rowCount:g.length,numSelected:a.selected.length,onSort:a.onSort,onSelectAllRows:b=>a.onSelectAllRows(b,g.map(y=>y.id))}),e.jsxs(at,{children:[g.slice(a.page*a.rowsPerPage,a.page*a.rowsPerPage+a.rowsPerPage).map((b,y)=>e.jsx(Se,{row:{...b,index:y},selected:a.selected.includes(b.id),onSelectRow:()=>a.onSelectRow(b.id),onDeleteRow:()=>_e(b.id),onEditRow:()=>Ae(b)},b.id)),e.jsx(ot,{height:C,emptyRows:nt(a.page,a.rowsPerPage,t.length)}),e.jsx(lt,{isNotFound:F})]})]})}),e.jsx(rt,{count:g.length,page:a.page,rowsPerPage:a.rowsPerPage,onPageChange:a.onChangePage,onRowsPerPageChange:a.onChangeRowsPerPage,dense:a.dense,onChangeDense:a.onChangeDense})]})]})]}),e.jsx(ge,{open:p.value,onClose:p.onFalse,title:"Delete",content:"Are you sure you want to delete?",action:e.jsx(O,{variant:"contained",color:"error",onClick:()=>{Oe(),p.onFalse()},children:"Delete"})}),e.jsx(xt,{dialogOpen:x,setDialogOpen:s,editId:j,fetchAllOrdersDemo:o}),e.jsx(jt,{editDialogOpen:n,setEditDialogOpen:d,editData:j,dataFiltered:g,fetchAllOrdersDemo:o})]})}function yt({inputData:t,comparator:o,filters:i}){const{name:r,status:h,commodity:p,order_status:a}=i,x=t.map((s,n)=>[s,n]);return x.sort((s,n)=>{const d=o(s[0],n[0]);return d!==0?d:s[1]-n[1]}),t=x.map(s=>s[0]),r&&(t=t.filter(s=>s.commodity.toLowerCase().includes(r.toLowerCase()))),h!=="all"&&(t=t.filter(s=>s.status===h)),p.length&&(t=t.filter(s=>p.includes(s.commodity))),a.length&&(t=t.filter(s=>a.includes(s.nccf_order_status))),t}function ft({vendorCode:t}){const{vendor:o}=$(),i=ne(),[r,h]=m.useState({}),[p,a]=m.useState([]),[x,s]=m.useState(0);m.useEffect(()=>{o.csp_code&&(c(),d())},[x]);function n(){s(u=>u+1)}function d(){_.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${o.csp_code}/orders_stats`).then(u=>{var j;h((j=u.data)==null?void 0:j.data[0])})}function c(){_.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${o.csp_code}/orders`).then(u=>{var j;a((j=u.data)==null?void 0:j.data)})}return e.jsx(le,{maxWidth:i.themeStretch?!1:"xl",children:e.jsxs(w,{container:!0,spacing:3,children:[e.jsx(w,{xs:12,md:3,children:e.jsx(D,{title:"Total Orders",total:(r==null?void 0:r.total_orders)||"0"})}),e.jsx(w,{xs:12,md:3,children:e.jsx(D,{title:"Orders Pending",total:(r==null?void 0:r.placed_orders)||"0"})}),e.jsx(w,{xs:12,md:3,children:e.jsx(D,{title:"Orders Accepted",total:(r==null?void 0:r.accepted_orders)||"0"})}),e.jsx(w,{xs:12,md:3,children:e.jsx(D,{title:"Orders Declined",total:(r==null?void 0:r.declined_orders)||"0"})}),e.jsx(w,{xs:12,lg:12,children:e.jsx(gt,{tableData:p,fetchAllOrdersDemo:n})})]})})}function z({title:t,percent:o,total:i,chart:r,sx:h,...p}){const a=G(),{colors:x=[a.palette.primary.light,a.palette.primary.main],series:s,options:n}=r,d={colors:x.map(c=>c[1]),fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:x[0],opacity:1},{offset:100,color:x[1],opacity:1}]}},chart:{sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"68%",borderRadius:2}},tooltip:{x:{show:!1},y:{formatter:c=>W(c),title:{formatter:()=>""}},marker:{show:!1}},...n};return e.jsxs(N,{sx:{display:"flex",alignItems:"center",p:3,...h},...p,children:[e.jsxs(A,{sx:{flexGrow:1},children:[e.jsx(L,{variant:"subtitle2",children:t}),e.jsx(q,{direction:"row",alignItems:"center",sx:{mt:2,mb:1},children:e.jsxs(L,{component:"div",variant:"subtitle2",children:[o>0&&"+",it(o)]})}),e.jsx(L,{variant:"h3",children:W(i)})]}),e.jsx(re,{dir:"ltr",type:"bar",series:[{data:s}],options:d,width:60,height:36})]})}z.propTypes={chart:l.object,percent:l.number,sx:l.object,title:l.string,total:l.number};const ue=400,pe=72,Ct=ct(re)(({theme:t})=>({height:ue,"& .apexcharts-canvas, .apexcharts-inner, svg, foreignObject":{height:"100% !important"},"& .apexcharts-legend":{height:pe,borderTop:`dashed 1px ${t.palette.divider}`,top:`calc(${ue-pe}px) !important`}}));function Re({title:t,subheader:o,chart:i,...r}){const h=G(),{colors:p,series:a,options:x}=i,s=a.map(d=>d.value),n=fe({chart:{sparkline:{enabled:!0}},colors:p,labels:a.map(d=>d.label),stroke:{colors:[h.palette.background.paper]},legend:{offsetY:0,floating:!0,position:"bottom",horizontalAlign:"center"},tooltip:{fillSeriesColor:!1,y:{formatter:d=>W(d),title:{formatter:d=>`${d}`}}},plotOptions:{pie:{donut:{size:"70%",labels:{value:{formatter:d=>W(d)},total:{formatter:d=>{const c=d.globals.seriesTotals.reduce((u,j)=>u+j,0);return W(c)}}}}}},...x});return e.jsxs(N,{...r,children:[e.jsx(Ce,{title:t,subheader:o,sx:{mb:5}}),e.jsx(Ct,{dir:"ltr",type:"donut",series:s,options:n,width:"100%",height:280})]})}Re.propTypes={chart:l.object,subheader:l.string,title:l.string};function Te({title:t,subheader:o,chart:i,...r}){const{labels:h,colors:p,series:a,options:x}=i,s=ae(),[n,d]=m.useState("Week"),c=fe({chart:{stacked:!0},colors:p,stroke:{width:0},xaxis:{categories:n==="Week"&&h.week||n==="Month"&&h.month||h.year},tooltip:{y:{formatter:j=>dt(j)}},plotOptions:{bar:{borderRadius:n==="Week"&&8||n==="Month"&&6||10,columnWidth:"20%"}},...x}),u=m.useCallback(j=>{s.onClose(),d(j)},[s]);return e.jsxs(e.Fragment,{children:[e.jsxs(N,{...r,children:[e.jsx(Ce,{title:t,subheader:o,action:e.jsxs(mt,{onClick:s.onOpen,sx:{pl:1,py:.5,pr:.5,borderRadius:1,typography:"subtitle2",bgcolor:"background.neutral"},children:[n,e.jsx(T,{width:16,icon:s.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:.5}})]})}),a.map(j=>e.jsx(A,{sx:{mt:3,mx:3},children:j.type===n&&e.jsx(re,{dir:"ltr",type:"bar",series:j.data,options:c,width:"100%",height:375})},j.type))]}),e.jsx(oe,{open:s.open,onClose:s.onClose,sx:{width:140},children:a.map(j=>e.jsx(P,{selected:j.type===n,onClick:()=>u(j.type),children:j.type},j.type))})]})}Te.propTypes={chart:l.object,subheader:l.string,title:l.string};l.bool,l.string,l.func,l.func,l.string,l.object,l.string;function wt({vendorCode:t}){const{vendor:o}=$(),i=ne(),r=G(),[h,p]=m.useState([]),[a,x]=m.useState({}),s={week:["Mon","Tue","Web","Thu","Fri","Sat","Sun"],month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],year:["2018","2019","2020","2021","2022"]};m.useEffect(()=>{o.csp_code&&(d(),n())},[o]);function n(){_.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${o.csp_code}/orders_stats`).then(c=>{var u;x((u=c.data)==null?void 0:u.data[0])})}function d(){_.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/csp/${o.csp_code}/orders`).then(c=>{var u;p((u=c.data)==null?void 0:u.data)})}return e.jsx(le,{maxWidth:i.themeStretch?!1:"xl",children:e.jsxs(w,{container:!0,spacing:3,children:[e.jsx(w,{xs:12,md:3,children:e.jsx(z,{title:"Miller",total:4876,chart:{series:[8,9,31,8,16,37,8,33,46,31]}})}),e.jsx(w,{xs:12,md:3,children:e.jsx(z,{title:"Distributor",total:678,chart:{colors:[r.palette.warning.light,r.palette.warning.main],series:[8,9,31,8,16,37,8,33,46,31]}})}),e.jsx(w,{xs:12,md:3,children:e.jsx(z,{title:"Miller & Distributor",total:4876,chart:{colors:[r.palette.info.light,r.palette.info.main],series:[20,41,63,33,28,35,50,46,11,26]}})}),e.jsx(w,{xs:12,md:3,children:e.jsx(z,{title:"Society/Co-operative",total:678,chart:{colors:[r.palette.secondary.light,r.palette.secondary.main],series:[8,9,31,8,16,37,8,33,46,31]}})}),e.jsx(w,{xs:12,md:6,lg:4,children:e.jsx(Re,{title:"Current Orders",chart:{colors:["#5DD095","#0D7566","#004B50","#C8FAD6"],series:[{label:"Miller",value:12244},{label:"Distributor",value:53345},{label:"Miller + Distributor",value:44313},{label:"Society/Co-operative",value:78343}]}})}),e.jsx(w,{xs:12,md:6,lg:8,children:e.jsx(Te,{title:"Orders",chart:{labels:s,colors:[r.palette.primary.main,r.palette.error.main,r.palette.warning.main],series:[{type:"Week",data:[{name:"Bharat Daal",data:[20,34,48,65,37,48,9]},{name:"Bharat Aata",data:[10,34,13,26,27,28,18]},{name:"Bharat Rice",data:[10,14,13,16,17,18,28]}]},{type:"Month",data:[{name:"Bharat Daal",data:[10,34,13,56,77,88,99,77,45,12,43,34]},{name:"Bharat Aata",data:[10,34,13,56,77,88,99,77,45,12,43,34]},{name:"Bharat Rice",data:[10,34,13,56,77,88,99,77,45,12,43,34]}]},{type:"Year",data:[{name:"Bharat Daal",data:[10,34,13,56,77]},{name:"Bharat Aata",data:[10,34,13,56,77]},{name:"Bharat Rice",data:[10,34,13,56,77]}]}]}})})]})})}function vt(){m.useState(!0);const t=localStorage.getItem("login_type");return e.jsxs(e.Fragment,{children:[e.jsx(ht,{children:e.jsx("title",{children:" NCCF CSP Portal "})}),t==="other-login"?e.jsx(ft,{}):t==="branch"?e.jsx(ut,{}):e.jsx(wt,{})]})}export{vt as default};
