import{bD as re,bE as oe,r as u,bF as le,a as ce,ag as os,bG as ls,d as Y,e as W,bH as je,bI as ne,bJ as ue,f as de,o as Ce,p as $,j as e,am as S,T as b,m as H,bK as se,S as o,B as C,g as T,bL as Re,bM as cs,bN as ye,bO as ds,bP as xs,D as ps,bQ as hs,bR as U,bS as ms,aJ as gs,E as K,bT as ve,F as xe,bU as bs,bV as js,I as Z,y as J,aA as fe,ad as n,aE as pe,C as he,bW as ke,aF as Se,az as P,L as _,R as me,bX as X,i as R,bY as Ie,ak as us,K as Te,bx as ys,t as q,bC as vs,bZ as Le,b_ as ae,b$ as fs,c0 as ws,c1 as Cs,ab as Rs,c2 as ks,c3 as Ss,au as De,c4 as Is,z as Ts,c5 as Ls,aj as Ds,c6 as Os,c7 as zs,a9 as ge,c8 as Fs,h as we,av as As,aw as Ws,by as $s,bz as qs,bA as Es,c9 as Oe,ca as Bs,bB as Us,c as Vs,cb as ie,ao as Gs,cc as Ns,aM as Ms}from"./index-FctwF2YG.js";import{L as ze}from"./LoadingButton-NBuU7rGV.js";import{C as _s,a as Fe}from"./color-preview-NkJ2JLO4.js";import{F as Hs}from"./Fab-Zjs_Xr9e.js";import{P as Ae,p as We}from"./Pagination-MdxjWJhm.js";import{R as Q}from"./Rating-klq6UgC3.js";import{P as $e}from"./product-details-carousel-bvAdyaEY.js";import{s as Ks}from"./sumBy-3ZnGz5ty.js";import{S as I}from"./Skeleton-Pb2Tg8YM.js";import{I as Qs}from"./incrementer-button-hFqT76Kb.js";import{M as Ys}from"./markdown-6P48DsgG.js";import{T as Zs,a as Js}from"./Tabs-gfm9wdKW.js";function fn(){const s=le.product.list,{data:i,isLoading:a,error:t,isValidating:r}=re(s,oe);return u.useMemo(()=>({products:(i==null?void 0:i.products)||[],productsLoading:a,productsError:t,productsValidating:r,productsEmpty:!a&&!(i!=null&&i.products.length)}),[i==null?void 0:i.products,t,a,r])}function qe(s){const i=s?[le.product.details,{params:{productId:s}}]:"",{data:a,isLoading:t,error:r,isValidating:l}=re(i,oe);return u.useMemo(()=>({product:a==null?void 0:a.product,productLoading:t,productError:r,productValidating:l}),[a==null?void 0:a.product,r,t,l])}function wn(s){const i=s?[le.product.search,{params:{query:s}}]:"",{data:a,isLoading:t,error:r,isValidating:l}=re(i,oe,{keepPreviousData:!0});return u.useMemo(()=>({searchResults:(a==null?void 0:a.results)||[],searchLoading:t,searchError:r,searchValidating:l,searchEmpty:!t&&!(a!=null&&a.results.length)}),[a==null?void 0:a.results,r,t,l])}function Ee({currentProduct:s}){const i=ce(),a=os("up","md"),{enqueueSnackbar:t}=ls(),[r,l]=u.useState(!1),d=Y().shape({name:W().required("Name is required"),images:je().min(1,"Images is required"),tags:je().min(2,"Must have at least 2 tags"),category:W().required("Category is required"),price:ne().moreThan(0,"Price should not be $0.00"),description:W().required("Description is required"),taxes:ne(),newLabel:Y().shape({enabled:ue(),content:W()}),saleLabel:Y().shape({enabled:ue(),content:W()})}),m=u.useMemo(()=>({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",subDescription:(s==null?void 0:s.subDescription)||"",images:(s==null?void 0:s.images)||[],code:(s==null?void 0:s.code)||"",sku:(s==null?void 0:s.sku)||"",price:(s==null?void 0:s.price)||0,quantity:(s==null?void 0:s.quantity)||0,priceSale:(s==null?void 0:s.priceSale)||0,tags:(s==null?void 0:s.tags)||[],taxes:(s==null?void 0:s.taxes)||0,gender:(s==null?void 0:s.gender)||"",category:(s==null?void 0:s.category)||"",colors:(s==null?void 0:s.colors)||[],sizes:(s==null?void 0:s.sizes)||[],newLabel:(s==null?void 0:s.newLabel)||{enabled:!1,content:""},saleLabel:(s==null?void 0:s.saleLabel)||{enabled:!1,content:""}}),[s]),x=de({resolver:Ce(d),defaultValues:m}),{reset:c,watch:y,setValue:h,handleSubmit:j,formState:{isSubmitting:v}}=x,f=y();u.useEffect(()=>{s&&c(m)},[s,m,c]),u.useEffect(()=>{r?h("taxes",0):h("taxes",(s==null?void 0:s.taxes)||0)},[s==null?void 0:s.taxes,r,h]);const z=j(async g=>{try{await new Promise(w=>setTimeout(w,500)),c(),t(s?"Update success!":"Create success!"),i.push($.dashboard.product.root),console.info("DATA",g)}catch(w){console.error(w)}}),F=u.useCallback(g=>{const w=f.images||[],D=g.map(A=>Object.assign(A,{preview:URL.createObjectURL(A)}));h("images",[...w,...D],{shouldValidate:!0})},[h,f.images]),L=u.useCallback(g=>{var D;const w=f.images&&((D=f.images)==null?void 0:D.filter(A=>A!==g));h("images",w)},[h,f.images]),E=u.useCallback(()=>{h("images",[])},[h]),B=u.useCallback(g=>{l(g.target.checked)},[]),G=e.jsxs(e.Fragment,{children:[a&&e.jsxs(S,{md:4,children:[e.jsx(b,{variant:"h6",sx:{mb:.5},children:"Details"}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),e.jsx(S,{xs:12,md:8,children:e.jsxs(H,{children:[!a&&e.jsx(se,{title:"Details"}),e.jsxs(o,{spacing:3,sx:{p:3},children:[e.jsx(T,{name:"name",label:"Product Name"}),e.jsx(T,{name:"subDescription",label:"Sub Description",multiline:!0,rows:4}),e.jsxs(o,{spacing:1.5,children:[e.jsx(b,{variant:"subtitle2",children:"Content"}),e.jsx(bs,{simple:!0,name:"description"})]}),e.jsxs(o,{spacing:1.5,children:[e.jsx(b,{variant:"subtitle2",children:"Images"}),e.jsx(js,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:F,onRemove:L,onRemoveAll:E,onUpload:()=>console.info("ON UPLOAD")})]})]})]})})]}),N=e.jsxs(e.Fragment,{children:[a&&e.jsxs(S,{md:4,children:[e.jsx(b,{variant:"h6",sx:{mb:.5},children:"Properties"}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),e.jsx(S,{xs:12,md:8,children:e.jsxs(H,{children:[!a&&e.jsx(se,{title:"Properties"}),e.jsxs(o,{spacing:3,sx:{p:3},children:[e.jsxs(C,{columnGap:2,rowGap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[e.jsx(T,{name:"code",label:"Product Code"}),e.jsx(T,{name:"sku",label:"Product SKU"}),e.jsx(T,{name:"quantity",label:"Quantity",placeholder:"0",type:"number",InputLabelProps:{shrink:!0}}),e.jsx(Re,{native:!0,name:"category",label:"Category",InputLabelProps:{shrink:!0},children:cs.map(g=>e.jsx("optgroup",{label:g.group,children:g.classify.map(w=>e.jsx("option",{value:w,children:w},w))},g.group))}),e.jsx(ye,{checkbox:!0,name:"colors",label:"Colors",options:ds}),e.jsx(ye,{checkbox:!0,name:"sizes",label:"Sizes",options:xs})]}),e.jsx(ps,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:hs.map(g=>g),getOptionLabel:g=>g,renderOption:(g,w)=>u.createElement("li",{...g,key:w},w),renderTags:(g,w)=>g.map((D,A)=>u.createElement(U,{...w({index:A}),key:D,label:D,size:"small",color:"info",variant:"soft"}))}),e.jsxs(o,{spacing:1,children:[e.jsx(b,{variant:"subtitle2",children:"Gender"}),e.jsx(ms,{row:!0,name:"gender",spacing:2,options:gs})]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(o,{direction:"row",alignItems:"center",spacing:3,children:[e.jsx(ve,{name:"saleLabel.enabled",label:null,sx:{m:0}}),e.jsx(T,{name:"saleLabel.content",label:"Sale Label",fullWidth:!0,disabled:!f.saleLabel.enabled})]}),e.jsxs(o,{direction:"row",alignItems:"center",spacing:3,children:[e.jsx(ve,{name:"newLabel.enabled",label:null,sx:{m:0}}),e.jsx(T,{name:"newLabel.content",label:"New Label",fullWidth:!0,disabled:!f.newLabel.enabled})]})]})]})})]}),M=e.jsxs(e.Fragment,{children:[a&&e.jsxs(S,{md:4,children:[e.jsx(b,{variant:"h6",sx:{mb:.5},children:"Pricing"}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:"Price related inputs"})]}),e.jsx(S,{xs:12,md:8,children:e.jsxs(H,{children:[!a&&e.jsx(se,{title:"Pricing"}),e.jsxs(o,{spacing:3,sx:{p:3},children:[e.jsx(T,{name:"price",label:"Regular Price",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(Z,{position:"start",children:e.jsx(C,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}),e.jsx(T,{name:"priceSale",label:"Sale Price",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(Z,{position:"start",children:e.jsx(C,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}),e.jsx(J,{control:e.jsx(fe,{checked:r,onChange:B}),label:"Price includes taxes"}),!r&&e.jsx(T,{name:"taxes",label:"Tax (%)",placeholder:"0.00",type:"number",InputLabelProps:{shrink:!0},InputProps:{startAdornment:e.jsx(Z,{position:"start",children:e.jsx(C,{component:"span",sx:{color:"text.disabled"},children:"%"})})}})]})]})})]}),p=e.jsxs(e.Fragment,{children:[a&&e.jsx(S,{md:4}),e.jsxs(S,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[e.jsx(J,{control:e.jsx(fe,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(ze,{type:"submit",variant:"contained",size:"large",loading:v,children:s?"Save Changes":"Create Product"})]})]});return e.jsx(xe,{methods:x,onSubmit:z,children:e.jsxs(S,{container:!0,spacing:3,children:[G,N,M,p]})})}Ee.propTypes={currentProduct:n.object};function Ps({id:s}){const i=pe(),{product:a}=qe(s);return e.jsxs(he,{maxWidth:i.themeStretch?!1:"lg",children:[e.jsx(ke,{heading:"Edit",links:[{name:"Dashboard",href:$.dashboard.root},{name:"Product",href:$.dashboard.product.root},{name:a==null?void 0:a.name}],sx:{mb:{xs:3,md:5}}}),e.jsx(Ee,{currentProduct:a})]})}Ps.propTypes={id:n.string};function Be({product:s}){const{onAddToCart:i}=Se(),{id:a,name:t,coverUrl:r,price:l,colors:d,available:m,sizes:x,priceSale:c,newLabel:y,saleLabel:h}=s,j=$.product.details(a),v=async()=>{const L={id:a,name:t,coverUrl:r,available:m,price:l,colors:[d[0]],size:x[0],quantity:1};try{i(L)}catch(E){console.error(E)}},f=(y.enabled||h.enabled)&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,sx:{position:"absolute",zIndex:9,top:16,right:16},children:[y.enabled&&e.jsx(P,{variant:"filled",color:"info",children:y.content}),h.enabled&&e.jsx(P,{variant:"filled",color:"error",children:h.content})]}),z=e.jsxs(C,{sx:{position:"relative",p:1},children:[!!m&&e.jsx(Hs,{color:"warning",size:"medium",className:"add-cart-btn",onClick:v,sx:{right:16,bottom:16,zIndex:9,opacity:0,position:"absolute",transition:L=>L.transitions.create("all",{easing:L.transitions.easing.easeInOut,duration:L.transitions.duration.shorter})},children:e.jsx(R,{icon:"solar:cart-plus-bold",width:24})}),e.jsx(Ie,{title:!m&&"Out of stock",placement:"bottom-end",children:e.jsx(us,{alt:t,src:r,ratio:"1/1",sx:{borderRadius:1.5,...!m&&{opacity:.48,filter:"grayscale(1)"}}})})]}),F=e.jsxs(o,{spacing:2.5,sx:{p:3,pt:2},children:[e.jsx(_,{component:me,href:j,color:"inherit",variant:"subtitle2",noWrap:!0,children:t}),e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(_s,{colors:d}),e.jsxs(o,{direction:"row",spacing:.5,sx:{typography:"subtitle1"},children:[c&&e.jsx(C,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through"},children:X(c)}),e.jsx(C,{component:"span",children:X(l)})]})]})]});return e.jsxs(H,{sx:{"&:hover .add-cart-btn":{opacity:1}},children:[f,z,F]})}Be.propTypes={product:n.object};function Ue({sx:s,...i}){return e.jsxs(Te,{variant:"outlined",sx:{borderRadius:2,...s},...i,children:[e.jsx(o,{sx:{p:1},children:e.jsx(I,{sx:{paddingTop:"100%"}})}),e.jsxs(o,{spacing:2,sx:{p:3,pt:2},children:[e.jsx(I,{sx:{width:.5,height:16}}),e.jsxs(o,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(o,{direction:"row",children:[e.jsx(I,{variant:"circular",sx:{width:16,height:16}}),e.jsx(I,{variant:"circular",sx:{width:16,height:16}}),e.jsx(I,{variant:"circular",sx:{width:16,height:16}})]}),e.jsx(I,{sx:{width:40,height:16}})]})]})]})}Ue.propTypes={sx:n.object};function Xs({...s}){return e.jsxs(S,{container:!0,spacing:8,...s,children:[e.jsx(S,{xs:12,md:6,lg:7,children:e.jsx(I,{sx:{paddingTop:"100%"}})}),e.jsx(S,{xs:12,md:6,lg:5,children:e.jsxs(o,{spacing:3,children:[e.jsx(I,{sx:{height:16,width:48}}),e.jsx(I,{sx:{height:16,width:80}}),e.jsx(I,{sx:{height:16,width:.5}}),e.jsx(I,{sx:{height:16,width:.75}}),e.jsx(I,{sx:{height:120}})]})}),e.jsx(S,{xs:12,children:e.jsx(o,{direction:"row",alignItems:"center",children:[...Array(3)].map((i,a)=>e.jsxs(o,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(I,{variant:"circular",sx:{width:80,height:80}}),e.jsx(I,{sx:{height:16,width:160}}),e.jsx(I,{sx:{height:16,width:80}})]},a))})})]})}function en({products:s,loading:i,...a}){const t=e.jsx(e.Fragment,{children:[...Array(16)].map((l,d)=>e.jsx(Ue,{},d))}),r=e.jsx(e.Fragment,{children:s.map(l=>e.jsx(Be,{product:l},l.id))});return e.jsxs(e.Fragment,{children:[e.jsx(C,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},...a,children:i?t:r}),s.length>8&&e.jsx(Ae,{count:8,sx:{mt:8,[`& .${We.ul}`]:{justifyContent:"center"}}})]})}en.propTypes={loading:n.bool,products:n.array};function sn({sort:s,onSort:i,sortOptions:a}){var l;const t=ys(),r=(l=a.find(d=>d.value===s))==null?void 0:l.label;return e.jsxs(e.Fragment,{children:[e.jsxs(q,{disableRipple:!0,color:"inherit",onClick:t.onOpen,endIcon:e.jsx(R,{icon:t.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",e.jsx(C,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:r})]}),e.jsx(vs,{open:t.open,onClose:t.onClose,sx:{width:140},children:a.map(d=>e.jsx(Le,{selected:d.value===s,onClick:()=>{t.onClose(),i(d.value)},children:d.label},d.value))})]})}sn.propTypes={onSort:n.func,sort:n.string,sortOptions:n.array};function Ve({totalItems:s}){return e.jsx(C,{component:me,href:$.product.checkout,sx:{right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:i=>i.spacing(1,3,1,2),boxShadow:i=>i.customShadows.dropdown,transition:i=>i.transitions.create(["opacity"]),"&:hover":{opacity:.72}},children:e.jsx(ae,{showZero:!0,badgeContent:s,color:"error",max:99,children:e.jsx(R,{icon:"solar:cart-3-bold",width:24})})})}Ve.propTypes={totalItems:n.number};function nn({query:s,results:i,onSearch:a,hrefItem:t,loading:r}){const l=ce(),d=x=>{l.push(t(x))},m=x=>{if(s&&x.key==="Enter"){const c=i.filter(y=>y.name===s)[0];d(c.id)}};return e.jsx(fs,{sx:{width:{xs:1,sm:260}},loading:r,autoHighlight:!0,popupIcon:null,options:i,onInputChange:(x,c)=>a(c),getOptionLabel:x=>x.name,noOptionsText:e.jsx(ws,{query:s,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(x,c)=>x.id===c.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[` .${Cs.option}`]:{pl:.75}}}},renderInput:x=>e.jsx(Rs,{...x,placeholder:"Search...",onKeyUp:m,InputProps:{...x.InputProps,startAdornment:e.jsx(Z,{position:"start",children:e.jsx(R,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[r?e.jsx(R,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,x.InputProps.endAdornment]})}}),renderOption:(x,c,{inputValue:y})=>{const h=ks(c.name,y),j=Ss(c.name,h);return u.createElement(C,{component:"li",...x,onClick:()=>d(c.id),key:c.id},e.jsx(De,{alt:c.name,src:c.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},c.id),e.jsx("div",{children:j.map((v,f)=>e.jsx(b,{component:"span",color:v.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:v.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:v.text},f))},y))}})}nn.propTypes={hrefItem:n.func,loading:n.bool,onSearch:n.func,query:n.string,results:n.array};function an({open:s,onOpen:i,onClose:a,filters:t,onFilters:r,canReset:l,onResetFilters:d,colorOptions:m,genderOptions:x,ratingOptions:c,categoryOptions:y}){const h=[...Array(21)].map((p,g)=>{const w=g*10,D=g===0?`$${w}`:`${w}`;return{value:w,label:g%4?"":D}}),j=u.useCallback(p=>{const g=t.gender.includes(p)?t.gender.filter(w=>w!==p):[...t.gender,p];r("gender",g)},[t.gender,r]),v=u.useCallback(p=>{r("category",p)},[r]),f=u.useCallback(p=>{r("colors",p)},[r]),z=u.useCallback((p,g)=>{r("priceRange",g)},[r]),F=u.useCallback(p=>{r("rating",p)},[r]),L=e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[e.jsx(b,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(Ie,{title:"Reset",children:e.jsx(we,{onClick:d,children:e.jsx(ae,{color:"error",variant:"dot",invisible:!l,children:e.jsx(R,{icon:"solar:restart-bold"})})})}),e.jsx(we,{onClick:a,children:e.jsx(R,{icon:"mingcute:close-line"})})]}),E=e.jsxs(o,{children:[e.jsx(b,{variant:"subtitle2",sx:{mb:1},children:"Gender"}),x.map(p=>e.jsx(J,{control:e.jsx(Is,{checked:t.gender.includes(p.label),onClick:()=>j(p.label)}),label:p.label},p.value))]}),B=e.jsxs(o,{children:[e.jsx(b,{variant:"subtitle2",sx:{mb:1},children:"Category"}),y.map(p=>e.jsx(J,{control:e.jsx(Ts,{checked:p===t.category,onClick:()=>v(p)}),label:p,sx:{...p==="all"&&{textTransform:"capitalize"}}},p))]}),G=e.jsxs(o,{children:[e.jsx(b,{variant:"subtitle2",sx:{mb:1},children:"Color"}),e.jsx(Fe,{selected:t.colors,onSelectColor:p=>f(p),colors:m,limit:6})]}),N=e.jsxs(o,{children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Price"}),e.jsxs(o,{direction:"row",spacing:5,sx:{my:2},children:[e.jsx(te,{type:"min",value:t.priceRange,onFilters:r}),e.jsx(te,{type:"max",value:t.priceRange,onFilters:r})]}),e.jsx(Ls,{value:t.priceRange,onChange:z,step:10,min:0,max:200,marks:h,getAriaValueText:p=>`$${p}`,valueLabelFormat:p=>`$${p}`,sx:{alignSelf:"center",width:"calc(100% - 24px)"}})]}),M=e.jsxs(o,{spacing:2,alignItems:"flex-start",children:[e.jsx(b,{variant:"subtitle2",children:"Rating"}),c.map((p,g)=>e.jsxs(o,{direction:"row",onClick:()=>F(p),sx:{borderRadius:1,cursor:"pointer",typography:"body2","&:hover":{opacity:.48},...t.rating===p&&{pl:.5,pr:.75,py:.25,bgcolor:"action.selected"}},children:[e.jsx(Q,{readOnly:!0,value:4-g,sx:{mr:1}})," & Up"]},p))]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{disableRipple:!0,color:"inherit",endIcon:e.jsx(ae,{color:"error",variant:"dot",invisible:!l,children:e.jsx(R,{icon:"ic:round-filter-list"})}),onClick:i,children:"Filters"}),e.jsxs(Ds,{anchor:"right",open:s,onClose:a,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[L,e.jsx(K,{}),e.jsx(Os,{sx:{px:2.5,py:3},children:e.jsxs(o,{spacing:3,children:[E,B,G,N,M]})})]})]})}an.propTypes={open:n.bool,onOpen:n.func,onClose:n.func,canReset:n.bool,filters:n.object,onFilters:n.func,genderOptions:n.array,onResetFilters:n.func,ratingOptions:n.array,categoryOptions:n.array,colorOptions:n.arrayOf(n.string)};function te({type:s,value:i,onFilters:a}){const t=i[0],r=i[1],l=u.useCallback(()=>{t<0&&a("priceRange",[0,r]),t>200&&a("priceRange",[200,r]),r<0&&a("priceRange",[t,0]),r>200&&a("priceRange",[t,200])},[r,t,a]);return e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:1},children:[e.jsx(b,{variant:"caption",sx:{flexShrink:0,color:"text.disabled",textTransform:"capitalize",fontWeight:"fontWeightSemiBold"},children:`${s} ($)`}),e.jsx(zs,{fullWidth:!0,value:s==="min"?t:r,onChange:d=>s==="min"?a("priceRange",[Number(d.target.value),r]):a("priceRange",[t,Number(d.target.value)]),onBlur:l,inputProps:{step:10,min:0,max:200,type:"number","aria-labelledby":"input-slider"},sx:{maxWidth:48,borderRadius:.75,bgcolor:d=>ge(d.palette.grey[500],.08),[`& .${Fs.input}`]:{pr:1,py:.75,textAlign:"right",typography:"body2"}}})]})}te.propTypes={onFilters:n.func,type:n.oneOf(["min","max"]),value:n.arrayOf(n.number)};function tn({filters:s,onFilters:i,canReset:a,onResetFilters:t,results:r,...l}){const d=h=>{const j=s.gender.filter(v=>v!==h);i("gender",j)},m=()=>{i("category","all")},x=h=>{const j=s.colors.filter(v=>v!==h);i("colors",j)},c=()=>{i("priceRange",[0,200])},y=()=>{i("rating","")};return e.jsxs(o,{spacing:1.5,...l,children:[e.jsxs(C,{sx:{typography:"body2"},children:[e.jsx("strong",{children:r}),e.jsx(C,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(o,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!s.gender.length&&e.jsx(V,{label:"Gender:",children:s.gender.map(h=>e.jsx(U,{label:h,size:"small",onDelete:()=>d(h)},h))}),s.category!=="all"&&e.jsx(V,{label:"Category:",children:e.jsx(U,{size:"small",label:s.category,onDelete:m})}),!!s.colors.length&&e.jsx(V,{label:"Colors:",children:s.colors.map(h=>e.jsx(U,{size:"small",label:e.jsx(C,{sx:{ml:-.5,width:18,height:18,bgcolor:h,borderRadius:"50%",border:j=>`solid 1px ${ge(j.palette.common.white,.24)}`}}),onDelete:()=>x(h)},h))}),(s.priceRange[0]!==0||s.priceRange[1]!==200)&&e.jsx(V,{label:"Price:",children:e.jsx(U,{size:"small",label:`$${s.priceRange[0]} - ${s.priceRange[1]}`,onDelete:c})}),!!s.rating&&e.jsx(V,{label:"Rating:",children:e.jsx(U,{size:"small",label:s.rating,onDelete:y})}),a&&e.jsx(q,{color:"error",onClick:t,startIcon:e.jsx(R,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}tn.propTypes={canReset:n.bool,filters:n.object,onFilters:n.func,results:n.number,onResetFilters:n.func};function V({label:s,children:i,sx:a,...t}){return e.jsxs(o,{component:Te,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...a},...t,children:[e.jsx(C,{component:"span",sx:{typography:"subtitle2"},children:s}),e.jsx(o,{spacing:1,direction:"row",flexWrap:"wrap",children:i})]})}V.propTypes={children:n.node,label:n.string,sx:n.object};n.object,n.func,n.array,n.array;n.object,n.func,n.number,n.func;n.node,n.string,n.object;n.shape({row:n.object});n.shape({row:n.object});n.shape({row:n.object});n.shape({row:n.object});n.shape({row:n.object});function Ge({review:s}){const{name:i,rating:a,comment:t,postedAt:r,avatarUrl:l,attachments:d,isPurchased:m}=s,x=e.jsxs(o,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(De,{src:l,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),e.jsx(As,{primary:i,secondary:Ws(r),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),c=e.jsxs(o,{spacing:1,flexGrow:1,children:[e.jsx(Q,{size:"small",value:a,precision:.1,readOnly:!0}),m&&e.jsxs(o,{direction:"row",alignItems:"center",sx:{color:"success.main",typography:"caption"},children:[e.jsx(R,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),e.jsx(b,{variant:"body2",children:t}),!!(d!=null&&d.length)&&e.jsx(o,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:d.map(y=>e.jsx(C,{component:"img",alt:y,src:y,sx:{width:64,height:64,borderRadius:1.5}},y))}),e.jsxs(o,{direction:"row",spacing:2,sx:{pt:1.5},children:[e.jsxs(o,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(R,{icon:"solar:like-outline",width:16,sx:{mr:.5}}),"123"]}),e.jsxs(o,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(R,{icon:"solar:dislike-outline",width:16,sx:{mr:.5}}),"34"]})]})]});return e.jsxs(o,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[x,c]})}Ge.propTypes={review:n.object};function Ne({reviews:s}){return e.jsxs(e.Fragment,{children:[s.map(i=>e.jsx(Ge,{review:i},i.id)),e.jsx(Ae,{count:10,sx:{mx:"auto",[`& .${We.ul}`]:{my:5,mx:"auto",justifyContent:"center"}}})]})}Ne.propTypes={reviews:n.array};function Me({onClose:s,...i}){var j;const a=Y().shape({rating:ne().min(1,"Rating must be greater than or equal to 1"),review:W().required("Review is required"),name:W().required("Name is required"),email:W().required("Email is required").email("Email must be a valid email address")}),t={rating:0,review:"",name:"",email:""},r=de({resolver:Ce(a),defaultValues:t}),{reset:l,control:d,handleSubmit:m,formState:{errors:x,isSubmitting:c}}=r,y=m(async v=>{try{await new Promise(f=>setTimeout(f,500)),l(),s(),console.info("DATA",v)}catch(f){console.error(f)}}),h=u.useCallback(()=>{s(),l()},[s,l]);return e.jsx($s,{onClose:s,...i,children:e.jsxs(xe,{methods:r,onSubmit:y,children:[e.jsx(qs,{children:" Add Review "}),e.jsxs(Es,{children:[e.jsxs(o,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1.5,children:[e.jsx(b,{variant:"body2",children:"Your review about this product:"}),e.jsx(Oe,{name:"rating",control:d,render:({field:v})=>e.jsx(Q,{...v,size:"small",value:Number(v.value),onChange:(f,z)=>{v.onChange(z)}})})]}),!!x.rating&&e.jsxs(Bs,{error:!0,children:[" ",(j=x.rating)==null?void 0:j.message]}),e.jsx(T,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(T,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(T,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(Us,{children:[e.jsx(q,{color:"inherit",variant:"outlined",onClick:h,children:"Cancel"}),e.jsx(ze,{type:"submit",variant:"contained",loading:c,children:"Post"})]})]})})}Me.propTypes={onClose:n.func};function _e({totalRatings:s,totalReviews:i,ratings:a,reviews:t}){const r=Vs(),l=Ks(a,c=>c.starCount),d=e.jsxs(o,{spacing:1,alignItems:"center",justifyContent:"center",children:[e.jsx(b,{variant:"subtitle2",children:"Average rating"}),e.jsxs(b,{variant:"h2",children:[s,"/5"]}),e.jsx(Q,{readOnly:!0,value:s,precision:.1}),e.jsxs(b,{variant:"caption",sx:{color:"text.secondary"},children:["(",ie(i)," reviews)"]})]}),m=e.jsx(o,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:c=>({md:`dashed 1px ${c.palette.divider}`}),borderRight:c=>({md:`dashed 1px ${c.palette.divider}`})},children:a.slice(0).reverse().map(c=>e.jsxs(o,{direction:"row",alignItems:"center",children:[e.jsx(b,{variant:"subtitle2",component:"span",sx:{width:42},children:c.name}),e.jsx(Gs,{color:"inherit",variant:"determinate",value:c.starCount/l*100,sx:{mx:2,flexGrow:1}}),e.jsx(b,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:ie(c.reviewCount)})]},c.name))}),x=e.jsx(o,{alignItems:"center",justifyContent:"center",children:e.jsx(q,{size:"large",variant:"soft",color:"inherit",onClick:r.onTrue,startIcon:e.jsx(R,{icon:"solar:pen-bold"}),children:"Write your review"})});return e.jsxs(e.Fragment,{children:[e.jsxs(C,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[d,m,x]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsx(Ne,{reviews:t}),e.jsx(Me,{open:r.value,onClose:r.onFalse})]})}_e.propTypes={ratings:n.array,reviews:n.array,totalRatings:n.number,totalReviews:n.number};function He({items:s,product:i,onAddCart:a,onGotoStep:t,disabledActions:r,...l}){const d=ce(),{id:m,name:x,sizes:c,price:y,coverUrl:h,colors:j,newLabel:v,available:f,priceSale:z,saleLabel:F,totalRatings:L,totalReviews:E,inventoryType:B,subDescription:G}=i,N=!!(s!=null&&s.length)&&s.map(k=>k.id).includes(m),M=!!(s!=null&&s.length)&&s.filter(k=>k.id===m).map(k=>k.quantity)[0]>=f,p={id:m,name:x,coverUrl:h,available:f,price:y,colors:j[0],size:c[4],quantity:f<1?0:1},g=de({defaultValues:p}),{reset:w,watch:D,control:A,setValue:be,handleSubmit:Qe}=g,O=D();u.useEffect(()=>{i&&w(p)},[i]);const Ye=Qe(async k=>{try{N||a==null||a({...k,colors:[O.colors],subTotal:k.price*k.quantity}),t==null||t(0),d.push($.product.checkout)}catch(ee){console.error(ee)}}),Ze=u.useCallback(()=>{try{a==null||a({...O,colors:[O.colors],subTotal:O.price*O.quantity})}catch(k){console.error(k)}},[a,O]),Je=e.jsxs(C,{sx:{typography:"h5"},children:[z&&e.jsx(C,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:X(z)}),X(y)]}),Pe=e.jsxs(o,{direction:"row",spacing:3,justifyContent:"center",children:[e.jsxs(_,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(R,{icon:"mingcute:add-line",width:16,sx:{mr:1}}),"Compare"]}),e.jsxs(_,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(R,{icon:"solar:heart-bold",width:16,sx:{mr:1}}),"Favorite"]}),e.jsxs(_,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(R,{icon:"solar:share-bold",width:16,sx:{mr:1}}),"Share"]})]}),Xe=e.jsxs(o,{direction:"row",children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),e.jsx(Oe,{name:"colors",control:A,render:({field:k})=>e.jsx(Fe,{colors:j,selected:k.value,onSelectColor:ee=>k.onChange(ee),limit:4})})]}),es=e.jsxs(o,{direction:"row",children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),e.jsx(Re,{name:"size",size:"small",helperText:e.jsx(_,{underline:"always",color:"textPrimary",children:"Size Chart"}),sx:{maxWidth:88,[`& .${Ns.root}`]:{mx:0,mt:1,textAlign:"right"}},children:c.map(k=>e.jsx(Le,{value:k,children:k},k))})]}),ss=e.jsxs(o,{direction:"row",children:[e.jsx(b,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),e.jsxs(o,{spacing:1,children:[e.jsx(Qs,{name:"quantity",quantity:O.quantity,disabledDecrease:O.quantity<=1,disabledIncrease:O.quantity>=f,onIncrease:()=>be("quantity",O.quantity+1),onDecrease:()=>be("quantity",O.quantity-1)}),e.jsxs(b,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",f]})]})]}),ns=e.jsxs(o,{direction:"row",spacing:2,children:[e.jsx(q,{fullWidth:!0,disabled:M||r,size:"large",color:"warning",variant:"contained",startIcon:e.jsx(R,{icon:"solar:cart-plus-bold",width:24}),onClick:Ze,sx:{whiteSpace:"nowrap"},children:"Add to Cart"}),e.jsx(q,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:r,children:"Buy Now"})]}),as=e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:G}),is=e.jsxs(o,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[e.jsx(Q,{size:"small",value:L,precision:.1,readOnly:!0,sx:{mr:1}}),`(${ie(E)} reviews)`]}),ts=(v.enabled||F.enabled)&&e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,children:[v.enabled&&e.jsx(P,{color:"info",children:v.content}),F.enabled&&e.jsx(P,{color:"error",children:F.content})]}),rs=e.jsx(C,{component:"span",sx:{typography:"overline",color:B==="out of stock"&&"error.main"||B==="low stock"&&"warning.main"||"success.main"},children:B});return e.jsx(xe,{methods:g,onSubmit:Ye,children:e.jsxs(o,{spacing:3,sx:{pt:3},...l,children:[e.jsxs(o,{spacing:2,alignItems:"flex-start",children:[ts,rs,e.jsx(b,{variant:"h5",children:x}),is,Je,as]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),Xe,es,ss,e.jsx(K,{sx:{borderStyle:"dashed"}}),ns,Pe]})})}He.propTypes={items:n.array,disabledActions:n.bool,onAddCart:n.func,onGotoStep:n.func,product:n.object};n.string,n.string,n.string,n.func,n.string,n.array,n.object;function Ke({description:s}){return e.jsx(Ys,{children:s,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}Ke.propTypes={description:n.string};function rn({id:s}){const i=pe(),[a,t]=u.useState("description"),[r,l]=u.useState("");u.useCallback(m=>{l(m)},[]),u.useCallback((m,x)=>{t(x)},[]);const d=e.jsx(e.Fragment,{children:e.jsx(S,{container:!0,spacing:{xs:3,md:5,lg:8},children:e.jsx(S,{xs:12,md:6,lg:7,children:e.jsx($e,{images:["https://api-dev-minimal-v510.vercel.app/assets/images/m_product/product_3.jpg"]})})})});return e.jsx(he,{maxWidth:i.themeStretch?!1:"lg",children:d})}rn.propTypes={id:n.string};const on=[{title:"100% Original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 Day Replacement",description:"Marshmallow biscuit donut dragée fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year Warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function ln({id:s}){const i=pe(),a=Se(),[t,r]=u.useState("description"),{product:l,productLoading:d,productError:m}=qe(s),x=u.useCallback((j,v)=>{r(v)},[]),c=e.jsx(Xs,{}),y=e.jsx(Ms,{filled:!0,title:`${m==null?void 0:m.message}`,action:e.jsx(q,{component:me,href:$.product.root,startIcon:e.jsx(R,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}}),h=l&&e.jsxs(e.Fragment,{children:[e.jsx(ke,{links:[{name:"Home",href:"/"},{name:"Shop",href:$.product.root},{name:l==null?void 0:l.name}],sx:{mb:5}}),e.jsxs(S,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(S,{xs:12,md:6,lg:7,children:e.jsx($e,{product:l})}),e.jsx(S,{xs:12,md:6,lg:5,children:e.jsx(He,{product:l,items:a.items,onAddCart:a.onAddToCart,onGotoStep:a.onGotoStep})})]}),e.jsx(C,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:on.map(j=>e.jsxs(C,{sx:{textAlign:"center",px:5},children:[e.jsx(R,{icon:j.icon,width:32,sx:{color:"primary.main"}}),e.jsx(b,{variant:"subtitle1",sx:{mb:1,mt:2},children:j.title}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:j.description})]},j.title))}),e.jsxs(H,{children:[e.jsx(Zs,{value:t,onChange:x,sx:{px:3,boxShadow:j=>`inset 0 -2px 0 0 ${ge(j.palette.grey[500],.08)}`},children:[{value:"description",label:"Description"},{value:"reviews",label:`Reviews (${l.reviews.length})`}].map(j=>e.jsx(Js,{value:j.value,label:j.label},j.value))}),t==="description"&&e.jsx(Ke,{description:l==null?void 0:l.description}),t==="reviews"&&e.jsx(_e,{ratings:l.ratings,reviews:l.reviews,totalRatings:l.totalRatings,totalReviews:l.totalReviews})]})]});return e.jsxs(he,{maxWidth:i.themeStretch?!1:"lg",sx:{mt:5,mb:15},children:[e.jsx(Ve,{totalItems:a.totalItems}),d&&c,m&&y,l&&h]})}ln.propTypes={id:n.string};export{Ve as C,tn as P,wn as a,en as b,nn as c,an as d,sn as e,ln as f,rn as g,Ee as h,Ps as i,fn as u};
