import{a as $,r as l,A as c,d as E,e as a,l as j,f as z,o as G,p as Y,j as e,B as f,T as p,F as I,g as n,D as d,x as U,y as h,z as x,t as H}from"./index-FctwF2YG.js";import{G as s}from"./Grid-7MOfnJI9.js";const k=({vendor_category:i})=>{const _=$(),[b,g]=l.useState([]),[w,q]=l.useState([]),[S,P]=l.useState([]),[O,y]=l.useState(""),m=b.find(t=>(t==null?void 0:t.state_name)===O),C=(t,r)=>{y(r),u.setValue("state",r)},M=["Partnership","Proprietary ","LLP","Public Limited","Other"],D=["Retail outlet","Mobile van"];l.useEffect(()=>{N()},[]),l.useEffect(()=>{m&&m.state_id&&(B(m.state_id),R(m.state_id))},[m]);function N(){c.get("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state").then(t=>{var r;g((r=t==null?void 0:t.data)==null?void 0:r.data)})}function B(t){c.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${t}/branch`).then(r=>{var o;q((o=r==null?void 0:r.data)==null?void 0:o.data)})}function R(t){c.get(`http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/state/${t}/district`).then(r=>{var o;P((o=r==null?void 0:r.data)==null?void 0:o.data)})}const F=["Dry","Wet","Both"],T=E().shape({address:a().required("Society is required"),contact_person:a().required("Contact is required"),confirm_password:a().oneOf([j("password"),null],"Passwords must match").required("Confirm password is required"),password:a().oneOf([j("password"),null],"Passwords must match").required("Confirm password is required"),gst_number:a().required("GST Number is required"),milling_type:a().required("Milling Type is required"),name:a().required("Name is required"),email:a().required("Email is required"),state:a().required("State is required"),branch:a().required("Branch is required"),pan_number:a().required("Pan Number is required"),pincode:a().required("Pincode is required"),phone_number:a().max(10).required("Phone Number is required")}),L={address:"",confirm_password:"",contact_person:"",district:"",gst_number:"",milling_type:"",name:"",email:"",pan_number:"",phone_number:"",pincode:"",password:"",state:"",branch:""},u=z({resolver:G(T),defaultValues:L}),{reset:V,control:J,register:K,handleSubmit:A,formState:{isSubmitting:Q}}=u,W=A(async t=>{let r;i==="Distributor"?r={address:t.address,password:t.password,confirm_password:t.confirm_password,contact_person:t.contact_person,district:t.district,email:t.email,gst_number:t.gst_number,name:t.name,pan_number:t.pan_number,phone_number:t.phone_number,pincode:t.pincode,state:t.state,branch:t.branch,vendor_category:i,mode:"test"}:r={...t,vendor_category:i,mode:"test"},c.post("http://ec2-54-173-125-80.compute-1.amazonaws.com:8080/nccf/channel_sales_partner",r).then(o=>{_.push(Y.auth.jwt.login)}).catch(o=>console.log(o))});return e.jsxs(f,{p:5,className:"registerForm",sx:{backgroundColor:"white",borderRadius:"10px"},children:[e.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",children:"Basic Information"}),e.jsxs(I,{onSubmit:W,methods:u,children:[e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"name",label:i==="Distributor"||i==="Miller_Distributor"?"Distributor Name":i==="Miller"?"Milling Unit Name":"Society Name"})}),i==="Miller"&&e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{name:"milling_type",type:"milling_type",label:"Milling Type",placeholder:"Choose Milling Type",fullWidth:!0,options:F.map(t=>t),getOptionLabel:t=>t})}),i!=="Society"&&e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"type_of_firm",label:"Type of Firm",placeholder:"Choose Your firm",fullWidth:!0,options:M.map(t=>t),getOptionLabel:t=>t})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"contact_person",label:"Contact Person"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"phone_number",label:"Phone Number",type:"number"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"email",label:"Email",type:"email"})}),(i==="Distributor"||i==="Miller_Distributor")&&e.jsxs(e.Fragment,{children:[e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"area_of_Opration",label:"Area of Opration"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"capacity",label:"Capacity /day (MT)"})}),e.jsx(s,{item:!0,xs:12,sm:3,children:e.jsx(d,{name:"mode_of_sale",label:"Mode of Sale",placeholder:"Choose mode of sale",fullWidth:!0,options:D.map(t=>t),getOptionLabel:t=>t})})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"pan_number",label:"PAN Number"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:3,children:e.jsx(n,{name:"gst_number",label:"GST Number"})}),i==="Society"&&e.jsx(s,{item:!0,xs:12,children:e.jsxs(U,{row:!0,"aria-label":"vendor",name:"vendor",children:[e.jsx(h,{value:"own_distribution_own_mill",control:e.jsx(x,{}),label:"Own Mill and Distribution"}),e.jsx(h,{value:"own_distribution_rent_mill",control:e.jsx(x,{}),label:"Own Distribution and Rent Mill"}),e.jsx(h,{value:"cooperative_rent_mill",control:e.jsx(x,{}),label:"Co-operative (Rent Mill)"})]})})]}),e.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:` ${i==="Distributor"||i==="Miller_Distributor"?"Address of Proposed Distributor Premises":i==="Miller"?"Address of Proposed Milling Unit Premises":"Address Information"}`}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(n,{name:"address",label:"Address"})}),e.jsx(s,{item:!0,xs:12,sm:4,children:e.jsx(d,{name:"state",label:"State",placeholder:"Choose Your State",fullWidth:!0,options:b.map(t=>t==null?void 0:t.state_name),getOptionLabel:t=>t,onChange:C})}),e.jsx(s,{item:!0,xs:12,sm:4,children:e.jsx(d,{name:"district",label:"District",placeholder:"Choose Your District",fullWidth:!0,options:S.map(t=>t==null?void 0:t.district),getOptionLabel:t=>t,disabled:!m})}),e.jsx(s,{item:!0,xs:12,sm:4,children:e.jsx(n,{name:"pincode",label:"Pin Code"})}),e.jsx(s,{item:!0,xs:12,sm:4,children:e.jsx(d,{name:"branch",label:"Branch",placeholder:"Choose Your Branch",fullWidth:!0,options:w.map(t=>t==null?void 0:t.branch_name),getOptionLabel:t=>t,disabled:!m})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(n,{name:"procurement_area",label:"Procurement area"})})]}),e.jsx(p,{variant:"h5",gutterBottom:!0,className:"heading",mt:2,children:"Password"}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(n,{type:"password",name:"password",label:"Password"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(n,{type:"password",name:"confirm_password",label:"Confirm Password"})})]}),e.jsx(f,{display:"flex",justifyContent:"flex-end",mt:3,children:e.jsx(H,{type:"submit",variant:"contained",color:"primary",children:"SUBMIT"})})]})]})},v=k;export{v as R};
