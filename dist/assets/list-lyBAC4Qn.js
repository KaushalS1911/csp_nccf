import{aE as w,aF as G,c as L,r as c,aG as U,j as s,C as A,T as H,S as O,p as Q,aH as q,aI as B,aJ as v,aK as J,aL as K,aM as M,H as V}from"./index-YMMvAUfd.js";import{u as W,a as Y,P as z,C as X,b as Z,c as $,d as D,e as ee}from"./product-shop-details-view-0UrZioFH.js";import{o as x}from"./orderBy-Pul_pDI6.js";import{u as se}from"./use-debounce-qUZudczA.js";import"./LoadingButton-8wXvtw8_.js";import"./CircularProgress-E4Pa4CwF.js";import"./color-preview-yiihaTL9.js";import"./Fab-z5aF3rG_.js";import"./Pagination-hTj25Gy5.js";import"./Rating-3fSqjp6Q.js";import"./product-details-carousel-dPmqS4UY.js";import"./carousel-arrow-index-cwuFDuX3.js";import"./sumBy-UxoN6CSM.js";import"./_baseIteratee-AFUV8N4K.js";import"./_baseToString-2j_8ePOe.js";import"./_baseSum-gu02AyRp.js";import"./Skeleton-yKv_ikCw.js";import"./incrementer-button-DNP5TOWN.js";import"./markdown-zTdKLTQf.js";import"./Tabs--X28zEHU.js";import"./_baseEach-n9Sb6eGp.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function te(){const e=w(),g=G(),r=L(),[i,m]=c.useState("featured"),[p,h]=c.useState(""),l=se(p),[o,a]=c.useState(R),{products:t,productsLoading:d,productsEmpty:u}=W(),{searchResults:j,searchLoading:F}=Y(l),C=c.useCallback((n,N)=>{a(k=>({...k,[n]:N}))},[]),P=c.useCallback(()=>{a(R)},[]),S=re({inputData:t,filters:o,sortBy:i}),f=!U(R,o),y=!S.length&&f,T=c.useCallback(n=>{m(n)},[]),I=c.useCallback(n=>{h(n)},[]),b=s.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[s.jsx($,{query:l,results:j,onSearch:I,loading:F,hrefItem:n=>Q.product.details(n)}),s.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[s.jsx(D,{open:r.value,onOpen:r.onTrue,onClose:r.onFalse,filters:o,onFilters:C,canReset:f,onResetFilters:P,colorOptions:q,ratingOptions:B,genderOptions:v,categoryOptions:["all",...J]}),s.jsx(ee,{sort:i,onSort:T,sortOptions:K})]})]}),_=s.jsx(z,{filters:o,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=s.jsx(M,{filled:!0,title:"No Data",sx:{py:10}});return s.jsxs(A,{maxWidth:e.themeStretch?!1:"lg",sx:{mb:15},children:[s.jsx(X,{totalItems:g.totalItems}),s.jsx(H,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),s.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[b,f&&_]}),(y||u)&&E,s.jsx(Z,{products:S,loading:d})]})}function re({inputData:e,filters:g,sortBy:r}){const{gender:i,category:m,colors:p,priceRange:h,rating:l}=g,o=h[0],a=h[1];return r==="featured"&&(e=x(e,["totalSold"],["desc"])),r==="newest"&&(e=x(e,["createdAt"],["desc"])),r==="priceDesc"&&(e=x(e,["price"],["desc"])),r==="priceAsc"&&(e=x(e,["price"],["asc"])),i.length&&(e=e.filter(t=>i.includes(t.gender))),m!=="all"&&(e=e.filter(t=>t.category===m)),p.length&&(e=e.filter(t=>t.colors.some(d=>p.includes(d)))),(o!==0||a!==200)&&(e=e.filter(t=>t.price>=o&&t.price<=a)),l&&(e=e.filter(t=>{const d=u=>u==="up4Star"?4:u==="up3Star"?3:u==="up2Star"?2:1;return t.totalRatings>d(l)})),e}function ye(){return s.jsxs(s.Fragment,{children:[s.jsx(V,{children:s.jsx("title",{children:" Product: Shop"})}),s.jsx(te,{})]})}export{ye as default};
